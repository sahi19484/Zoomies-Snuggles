import{g as kf,r as Te}from"./index-fJax_Esn.js";const fc=Object.prototype.toString;function Et(e){switch(fc.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ye(e,Error)}}function pn(e,t){return fc.call(e)===`[object ${t}]`}function yi(e){return pn(e,"ErrorEvent")}function vo(e){return pn(e,"DOMError")}function Rf(e){return pn(e,"DOMException")}function Fe(e){return pn(e,"String")}function Si(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function bi(e){return e===null||Si(e)||typeof e!="object"&&typeof e!="function"}function kt(e){return pn(e,"Object")}function Xr(e){return typeof Event<"u"&&Ye(e,Event)}function Cf(e){return typeof Element<"u"&&Ye(e,Element)}function xf(e){return pn(e,"RegExp")}function zn(e){return!!(e&&e.then&&typeof e.then=="function")}function Af(e){return kt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function pc(e){return typeof e=="number"&&e!==e}function Ye(e,t){try{return e instanceof t}catch{return!1}}function hc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Jt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Es(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let i=Math.min(s+140,r);return i>r-5&&(i=r),i===r&&(s=Math.max(i-140,0)),n=n.slice(s,i),s>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Cr(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{hc(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Mf(e,t,n=!1){return Fe(e)?xf(t)?t.test(e):Fe(t)?n?e===t:e.includes(t):!1:!1}function hn(e,t=[],n=!1){return t.some(r=>Mf(e,r,n))}function mc(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!Ye(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Of(Fs(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function Fs(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(Ye(r[s],Error)){To(o,a);const u=e(t,r[s]),l=c.length;Io(u,s,l,a),c=Fs(e,t,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(Ye(u,Error)){To(o,a);const d=e(t,u),f=c.length;Io(d,`errors[${l}]`,f,a),c=Fs(e,t,n,u,s,[d,...c],d,f)}}),c}function To(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Io(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Of(e,t){return e.map(n=>(n.value&&(n.value=Jt(n.value,t)),n))}function cr(e){return e&&e.Math==Math?e:void 0}const O=typeof globalThis=="object"&&cr(globalThis)||typeof window=="object"&&cr(window)||typeof self=="object"&&cr(self)||typeof global=="object"&&cr(global)||function(){return this}()||{};function Ei(){return O}function gc(e,t,n){const r=n||O,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const Zt=Ei(),Nf=80;function ut(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Nf;for(;n&&i++<r&&(u=Df(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Df(e,t){const n=e,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(Zt.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Fe(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function _c(){try{return Zt.document.location.href}catch{return""}}function yc(e){return Zt.document&&Zt.document.querySelector?Zt.document.querySelector(e):null}function Sc(e){if(!Zt.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const mn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pf="Sentry Logger ",xr=["debug","info","warn","error","log","assert","trace"],Ar={};function lt(e){if(!("console"in O))return e();const t=O.console,n={},r=Object.keys(Ar);r.forEach(s=>{const i=Ar[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Lf(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return mn?xr.forEach(n=>{t[n]=(...r)=>{e&&lt(()=>{O.console[n](`${Pf}[${n}]:`,...r)})}}):xr.forEach(n=>{t[n]=()=>{}}),t}const h=Lf(),$f=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ff(e){return e==="http"||e==="https"}function Mt(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function bc(e){const t=$f.exec(e);if(!t){lt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i,o="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return Ec({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Ec(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Bf(e){if(!mn)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(h.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Ff(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function vc(e){const t=typeof e=="string"?bc(e):Ec(e);if(!(!t||!Bf(t)))return t}class Le extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function le(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&Tc(s,r),e[t]=s}function Ve(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{mn&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Tc(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ve(e,"__sentry_original__",t)}catch{}}function vi(e){return e.__sentry_original__}function Hf(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Ic(e){if(Et(e))return{message:e.message,name:e.name,stack:e.stack,...ko(e)};if(Xr(e)){const t={type:e.type,target:wo(e.target),currentTarget:wo(e.currentTarget),...ko(e)};return typeof CustomEvent<"u"&&Ye(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function wo(e){try{return Cf(e)?ut(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ko(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Uf(e,t=40){const n=Object.keys(Ic(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Jt(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:Jt(s,t)}return""}function de(e){return Bs(e,new Map)}function Bs(e,t){if(jf(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=Bs(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Bs(s,t))}),r}return e}function jf(e){if(!kt(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const wc=50,Ro=/\(error: (.*)\)/,Co=/captureMessage|captureException/;function kc(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=Ro.test(a)?a.replace(Ro,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of t){const l=u(c);if(l){s.push(l);break}}if(s.length>=wc)break}}return zf(s)}}function Wf(e){return Array.isArray(e)?kc(...e):e}function zf(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Co.test(t[t.length-1].function||"")&&(t.pop(),Co.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,wc).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const vs="<anonymous>";function Ke(e){try{return!e||typeof e!="function"?vs:e.name||vs}catch{return vs}}const Tr={},xo={};function Ot(e,t){Tr[e]=Tr[e]||[],Tr[e].push(t)}function Nt(e,t){xo[e]||(t(),xo[e]=!0)}function Me(e,t){const n=e&&Tr[e];if(n)for(const r of n)try{r(t)}catch(s){mn&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ke(r)}
Error:`,s)}}function Rc(e){const t="console";Ot(t,e),Nt(t,Gf)}function Gf(){"console"in O&&xr.forEach(function(e){e in O.console&&le(O.console,e,function(t){return Ar[e]=t,function(...n){Me("console",{args:n,level:e});const s=Ar[e];s&&s.apply(O.console,n)}})})}function q(){const e=O,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Cc(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function it(e){const{message:t,event_id:n}=e;if(t)return t;const r=Cc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Hs(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Rt(e,t){const n=Cc(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function qf(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>Es(i,0)),t.context_line=Es(e[Math.min(r-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>Es(i,0))}function Ao(e){if(e&&e.__sentry_captured__)return!0;try{Ve(e,"__sentry_captured__",!0)}catch{}return!1}function xc(e){return Array.isArray(e)?e:[e]}const jt=O,Yf=1e3;let Mo,Us,js;function Ac(e){const t="dom";Ot(t,e),Nt(t,Vf)}function Vf(){if(!jt.document)return;const e=Me.bind(null,"dom"),t=Oo(e,!0);jt.document.addEventListener("click",t,!1),jt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=jt[n]&&jt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(le(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){const d=Oo(e);l.handler=d,s.call(this,i,d,a)}l.refCount++}catch{}return s.call(this,i,o,a)}}),le(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function Kf(e){if(e.type!==Us)return!1;try{if(!e.target||e.target._sentryId!==js)return!1}catch{}return!0}function Xf(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Oo(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Jf(n);if(Xf(n.type,r))return;Ve(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ve(r,"_sentryId",q());const s=n.type==="keypress"?"input":n.type;Kf(n)||(e({event:n,name:s,global:t}),Us=n.type,js=r?r._sentryId:void 0),clearTimeout(Mo),Mo=jt.setTimeout(()=>{js=void 0,Us=void 0},Yf)}}function Jf(e){try{return e.target}catch{return null}}const Mr=Ei();function Mc(){if(!("fetch"in Mr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ws(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Oc(){if(typeof EdgeRuntime=="string")return!0;if(!Mc())return!1;if(Ws(Mr.fetch))return!0;let e=!1;const t=Mr.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ws(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){mn&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Zf(){return"ReportingObserver"in Mr}function Jr(e){const t="fetch";Ot(t,e),Nt(t,Qf)}function Qf(){Oc()&&le(O,"fetch",function(e){return function(...t){const{method:n,url:r}=ep(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Me("fetch",{...s}),e.apply(O,t).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return Me("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw Me("fetch",o),i})}})}function zs(e,t){return!!e&&typeof e=="object"&&!!e[t]}function No(e){return typeof e=="string"?e:e?zs(e,"url")?e.url:e.toString?e.toString():"":""}function ep(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:No(n),method:zs(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:No(t),method:zs(t,"method")?String(t.method).toUpperCase():"GET"}}let ur=null;function Nc(e){const t="error";Ot(t,e),Nt(t,tp)}function tp(){ur=O.onerror,O.onerror=function(e,t,n,r,s){return Me("error",{column:r,error:s,line:n,msg:e,url:t}),ur&&!ur.__SENTRY_LOADER__?ur.apply(this,arguments):!1},O.onerror.__SENTRY_INSTRUMENTED__=!0}let lr=null;function Dc(e){const t="unhandledrejection";Ot(t,e),Nt(t,np)}function np(){lr=O.onunhandledrejection,O.onunhandledrejection=function(e){return Me("unhandledrejection",e),lr&&!lr.__SENTRY_LOADER__?lr.apply(this,arguments):!0},O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const dr=Ei();function rp(){const e=dr.chrome,t=e&&e.app&&e.app.runtime,n="history"in dr&&!!dr.history.pushState&&!!dr.history.replaceState;return!t&&n}const kn=O;let fr;function Gn(e){const t="history";Ot(t,e),Nt(t,sp)}function sp(){if(!rp())return;const e=kn.onpopstate;kn.onpopstate=function(...n){const r=kn.location.href,s=fr;if(fr=r,Me("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=fr,o=String(s);fr=o,Me("history",{from:i,to:o})}return n.apply(this,r)}}le(kn.history,"pushState",t),le(kn.history,"replaceState",t)}const ip=O,qe="__sentry_xhr_v3__";function Zr(e){const t="xhr";Ot(t,e),Nt(t,op)}function op(){if(!ip.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;le(e,"open",function(t){return function(...n){const r=Date.now(),s=Fe(n[0])?n[0].toUpperCase():void 0,i=ap(n[1]);if(!s||!i)return t.apply(this,n);this[qe]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[qe];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Me("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?le(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),le(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,d=this[qe];return d&&Fe(u)&&Fe(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,n)}}),le(e,"send",function(t){return function(...n){const r=this[qe];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Me("xhr",s),t.apply(this,n)}})}function ap(e){if(Fe(e))return e;try{return e.toString()}catch{}}function cp(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function up(){return"npm"}function Pc(){return!cp()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function _t(e,t){return e.require(t)}function lp(e){let t;try{t=_t(module,e)}catch{}try{const{cwd:n}=_t(module,"process");t=_t(module,`${n()}/node_modules/${e}`)}catch{}return t}function Gs(){return typeof window<"u"&&(!Pc()||dp())}function dp(){return O.process!==void 0&&O.process.type==="renderer"}function fp(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function xe(e,t=100,n=1/0){try{return qs("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Lc(e,t=3,n=100*1024){const r=xe(e,t);return gp(r)>n?Lc(e,t-1,n):r}function qs(e,t,n=1/0,r=1/0,s=fp()){const[i,o]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!pc(t))return t;const a=pp(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return qs("",p,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const f=Ic(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){l[p]="[MaxProperties ~]";break}const m=f[p];l[p]=qs(p,m,c-1,r,s),d++}return o(t),l}function pp(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(hc(t))return"[VueViewModel]";if(Af(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ke(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=hp(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function hp(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function mp(e){return~-encodeURI(e).split(/%..|./).length}function gp(e){return mp(JSON.stringify(e))}function _p(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const yp=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Sp(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=yp.exec(t);return n?n.slice(1):[]}function Do(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=_p(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Po(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function bp(e,t){e=Do(e).slice(1),t=Do(t).slice(1);const n=Po(e.split("/")),r=Po(t.split("/")),s=Math.min(n.length,r.length);let i=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){i=a;break}let o=[];for(let a=i;a<n.length;a++)o.push("..");return o=o.concat(r.slice(i)),o.join("/")}function Ep(e,t){return Sp(e)[2]}var ze;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ze||(ze={}));function tn(e){return new Ee(t=>{t(e)})}function Ti(e){return new Ee((t,n)=>{n(e)})}class Ee{constructor(t){Ee.prototype.__init.call(this),Ee.prototype.__init2.call(this),Ee.prototype.__init3.call(this),Ee.prototype.__init4.call(this),this._state=ze.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Ee((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ee((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(ze.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ze.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ze.PENDING){if(zn(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ze.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ze.RESOLVED&&n[1](this._value),this._state===ze.REJECTED&&n[2](this._value),n[0]=!0)})}}}function vp(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return Ti(new Le("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new Ee((a,c)=>{let u=t.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{tn(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:s,drain:i}}function vt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Tp(e){return e.split(/[\?#]/,1)[0]}function Lo(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}const Ip=["fatal","error","warning","log","info","debug"];function $c(e){return e==="warn"?"warning":Ip.includes(e)?e:"log"}const Fc=1e3;function qn(){return Date.now()/Fc}function wp(){const{performance:e}=O;if(!e||!e.now)return qn;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Fc}const He=wp(),fe=(()=>{const{performance:e}=O;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?e.timeOrigin:o:r})(),Ys="baggage",Bc="sentry-",kp=/^sentry-/,Rp=8192;function Hc(e){if(!Fe(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=$o(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!e)return;t=$o(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(kp)){const o=s.slice(Bc.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Uc(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Bc}${r}`]=s),n),{});return Cp(t)}function $o(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function Cp(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Rp?(mn&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const xp=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ii(e){if(!e)return;const t=e.match(xp);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Ap(e,t){const n=Ii(e),r=Hc(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:s||q(),parentSpanId:i||q().substring(16),spanId:q().substring(16),sampled:o,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:s||q(),spanId:q().substring(16)}}}function jc(e,t){const n=Ii(e),r=Hc(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||q(),parentSpanId:i||q().substring(16),spanId:q().substring(16),sampled:o,dsc:r||{}}:{traceId:s||q(),spanId:q().substring(16)}}function wi(e=q(),t=q().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Je(e,t=[]){return[e,t]}function Mp(e,t){const[n,r]=e;return[n,[...r,t]]}function nn(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Op(e,t){return nn(e,(n,r)=>t.includes(r))}function Vs(e,t){return(t||new TextEncoder).encode(e)}function Wc(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[Vs(s,t),o]:s.push(typeof o=="string"?Vs(o,t):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(xe(c))}i(u)}}return typeof s=="string"?s:Np(s)}function Np(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Dp(e,t,n){let r=typeof e=="string"?t.encode(e):e;function s(c){const u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(s(c)))}const o=i(),a=[];for(;r.length;){const c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?s(u):i()])}return[o,a]}function Pp(e,t){const n=typeof e.data=="string"?Vs(e.data,t):e.data;return[de({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Lp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Fo(e){return Lp[e]}function ki(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function zc(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Mt(r)},...s&&{trace:de({...s})}}}function $p(e,t,n){const r=[{type:"client_report"},{timestamp:qn(),discarded_events:e}];return Je(t?{dsn:t}:{},[r])}const Fp=60*1e3;function Gc(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Fp:r-t}function Bp(e,t){return e[t]||e.all||0}function qc(e,t,n=Date.now()){return Bp(e,t)>n}function Yc(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else o?s.all=r+Gc(o,r):t===429&&(s.all=r+60*1e3);return s}function Hp(e,t){return e(t.stack||"",1)}function Up(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=Hp(e,t);return r.length&&(n.stacktrace={frames:r}),n}function jp(e,t){return e??t()}function Ir(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const w=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Yn="production";function Ri(){return gc("globalEventProcessors",()=>[])}function Vc(e){Ri().push(e)}function Or(e,t,n,r=0){return new Ee((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);w&&o.id&&a===null&&h.log(`Event processor "${o.id}" dropped event`),zn(a)?a.then(c=>Or(e,c,n,r+1).then(s)).then(null,i):Or(e,a,n,r+1).then(s).then(null,i)}})}function Kc(e){const t=He(),n={sid:q(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Wp(n)};return e&&Ct(n,e),n}function Ct(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||He(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:q()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Xc(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ct(e,n)}function Wp(e){return de({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const zp=0,Jc=1;function Ci(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=U(e);return de({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:c})}function Qr(e){const{traceId:t,spanId:n}=e.spanContext(),r=xi(e);return wi(t,n,r)}function es(e){return typeof e=="number"?Bo(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Bo(e.getTime()):He()}function Bo(e){return e>9999999999?e/1e3:e}function U(e){return Gp(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function Gp(e){return typeof e.getSpanJSON=="function"}function xi(e){const{traceFlags:t}=e.spanContext();return!!(t&Jc)}function Ai(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||q(),timestamp:t.timestamp||qn()},u=n.integrations||e.integrations.map(S=>S.name);qp(c,e),Kp(c,u),t.type===void 0&&Yp(c,e.stackParser);const l=Jp(r,n.captureContext);n.mechanism&&Rt(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],f=tu().getScopeData();if(i){const S=i.getScopeData();Uo(f,S)}if(l){const S=l.getScopeData();Uo(f,S)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),eu(c,f);const m=[...d,...Ri(),...f.eventProcessors];return Or(m,c,n).then(S=>(S&&Vp(S),typeof o=="number"&&o>0?Xp(S,o,a):S))}function qp(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:Yn),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Jt(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Jt(o.value,i));const a=e.request;a&&a.url&&(a.url=Jt(a.url,i))}const Ho=new WeakMap;function Yp(e,t){const n=O._sentryDebugIds;if(!n)return;let r;const s=Ho.get(t);s?r=s:(r=new Map,Ho.set(t,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function Vp(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function Kp(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Xp(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:xe(s.data,t,n)}}))},...e.user&&{user:xe(e.user,t,n)},...e.contexts&&{contexts:xe(e.contexts,t,n)},...e.extra&&{extra:xe(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=xe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>{const i=U(s).data;return i&&(s.data=xe(i,t,n)),s})),r}function Jp(e,t){if(!t)return e;const n=e?e.clone():new Be;return n.update(t),n}function Zp(e){if(e)return Qp(e)?{captureContext:e}:th(e)?{captureContext:e}:e}function Qp(e){return e instanceof Be||typeof e=="function"}const eh=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function th(e){return Object.keys(e).some(t=>eh.includes(t))}function gn(e,t){return Y().captureException(e,Zp(t))}function Nr(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return Y().captureMessage(e,n,r)}function Vn(e,t){return Y().captureEvent(e,t)}function nh(e){Y().configureScope(e)}function Xe(e,t){Y().addBreadcrumb(e,t)}function Zc(e,t){Y().setContext(e,t)}function rh(e){Y().setExtras(e)}function sh(e,t){Y().setExtra(e,t)}function ih(e){Y().setTags(e)}function oh(e,t){Y().setTag(e,t)}function ah(e){Y().setUser(e)}function Ze(...e){const t=Y();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function ch(e){return ns(()=>e(je()))}function Ks(e,t){return Ze(n=>(n.setSpan(e),t(n)))}function uh(e,t){return Y().startTransaction({...e},t)}async function lh(e){const t=A();return t?t.flush(e):(w&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function dh(e){const t=A();return t?t.close(e):(w&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function fh(){return Y().lastEventId()}function A(){return Y().getClient()}function ph(){return!!A()}function ae(){return Y().getScope()}function Xs(e){const t=A(),n=je(),r=ae(),{release:s,environment:i=Yn}=t&&t.getOptions()||{},{userAgent:o}=O.navigator||{},a=Kc({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&Ct(c,{status:"exited"}),Mi(),n.setSession(a),r.setSession(a),a}function Mi(){const e=je(),t=ae(),n=t.getSession()||e.getSession();n&&Xc(n),Qc(),e.setSession(),t.setSession()}function Qc(){const e=je(),t=ae(),n=A(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Js(e=!1){if(e){Mi();return}Qc()}function rn(e){return e.transaction}function ts(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=de({environment:r.environment||Yn,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function sn(e){const t=A();if(!t)return{};const n=ts(U(e).trace_id||"",t,ae()),r=rn(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=U(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(xi(r)),t.emit&&t.emit("createDsc",n),n}function eu(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;hh(e,t),r&&_h(e,r),yh(e,n),mh(e,s),gh(e,i)}function Uo(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:p,span:m}=t;Rn(e,"extra",n),Rn(e,"tags",r),Rn(e,"user",s),Rn(e,"contexts",i),Rn(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function Rn(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function hh(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,c=de(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=de(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const l=de(s);l&&Object.keys(l).length&&(e.user={...l,...e.user});const d=de(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function mh(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function gh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function _h(e,t){e.contexts={trace:Ci(t),...e.contexts};const n=rn(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:sn(t),...e.sdkProcessingMetadata};const r=U(n).description;r&&(e.tags={transaction:r,...e.tags})}}function yh(e,t){e.fingerprint=e.fingerprint?xc(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const Sh=100;let Ts;class Be{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=jo()}static clone(t){return t?t.clone():new Be}clone(){const t=new Be;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Ct(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof Be){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(kt(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=jo(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Sh;if(r<=0)return this;const s={timestamp:qn(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:f,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:f,span:p}}applyToEvent(t,n={},r=[]){eu(t,this.getScopeData());const s=[...r,...Ri(),...this._eventProcessors];return Or(s,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:q();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:q();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:q();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function tu(){return Ts||(Ts=new Be),Ts}function jo(){return{traceId:q(),spanId:q().substring(16)}}const Dr="7.120.4",nu=parseFloat(Dr),bh=100;class Oi{constructor(t,n,r,s=nu){this._version=s;let i;n?i=n:(i=new Be,i.setClient(t));let o;r?o=r:(o=new Be,o.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(s){throw this.popScope(),s}return zn(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:q(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...n,event_id:r}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:q(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:q();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=bh}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:qn(),...t},u=i?lt(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=Zs(this);try{t(this)}finally{Zs(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return w&&h.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return w&&!r&&(this.getClient()?h.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):h.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Xc(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Yn}=r&&r.getOptions()||{},{userAgent:o}=O.navigator||{},a=Kc({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Ct(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const s=Dt().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);w&&h.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Dt(){return O.__SENTRY__=O.__SENTRY__||{extensions:{},hub:void 0},O}function Zs(e){const t=Dt(),n=Pr(t);return ru(t,e),n}function Y(){const e=Dt();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Eh(e)}function je(){return Y().getIsolationScope()}function Eh(e=Dt()){return(!vh(e)||Pr(e).isOlderThan(nu))&&ru(e,new Oi),Pr(e)}function ns(e,t={}){const n=Dt();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function vh(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Pr(e){return gc("hub",()=>new Oi,e)}function ru(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Ue(e){return(e||Y()).getScope().getTransaction()}const Th=Ii;let Wo=!1;function Ih(){Wo||(Wo=!0,Nc(Qs),Dc(Qs))}function Qs(){const e=Ue();if(e){const t="internal_error";w&&h.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Qs.tag="sentry_tracingErrorCallback";var zo;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const s="permission_denied";e.PermissionDenied=s;const i="not_found";e.NotFound=i;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const c="unimplemented";e.Unimplemented=c;const u="unavailable";e.Unavailable=u;const l="internal_error";e.InternalError=l;const d="unknown_error";e.UnknownError=d;const f="cancelled";e.Cancelled=f;const p="already_exists";e.AlreadyExists=p;const m="failed_precondition";e.FailedPrecondition=m;const _="aborted";e.Aborted=_;const S="out_of_range";e.OutOfRange=S;const g="data_loss";e.DataLoss=g})(zo||(zo={}));function Ni(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const wh=Ni;function rs(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Ni(t);n!=="unknown_error"&&e.setStatus(n)}function Di(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return kh(r,t,n)}function kh(e,t,n){return zn(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function _n(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=A(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Rh(e,t,n=()=>{},r=()=>{}){const s=Y(),i=ae(),o=i.getSpan(),a=is(e),c=ss(s,{parentSpan:o,spanContext:a,forceTransaction:!1,scope:i});return i.setSpan(c),Di(()=>t(c),u=>{c&&c.setStatus("internal_error"),n(u,c)},()=>{c&&c.end(),i.setSpan(o),r()})}function Ch(e,t){const n=is(e);return ns(()=>Ze(e.scope,r=>{const s=Y(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:ss(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return Di(()=>t(a),()=>{if(a){const{status:c}=U(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}function xh(e,t){const n=is(e);return ns(()=>Ze(e.scope,r=>{const s=Y(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:ss(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function c(){a&&a.end()}return Di(()=>t(a,c),()=>{if(a&&a.isRecording()){const{status:u}=U(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function ot(e){if(!_n())return;const t=is(e),n=Y(),r=e.scope?e.scope.getSpan():Pt();if(e.onlyIfParent&&!r)return;const o=(e.scope||ae()).clone();return ss(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function Pt(){return ae().getSpan()}const Ah=({sentryTrace:e,baggage:t},n)=>{const r=ae(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=Ap(e,t);r.setPropagationContext(o),w&&s&&h.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:de({dynamicSamplingContext:i})};return n?ns(()=>n(a)):a};function ss(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!_n())return;const i=je();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=sn(t),{traceId:c,spanId:u}=t.spanContext(),l=xi(t);o=e.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return s.setSpan(o),Mh(o,s,i),o}function is(e){if(e.startTime){const t={...e};return t.startTimestamp=es(e.startTime),delete t.startTime,t}return e}const su="_sentryScope",iu="_sentryIsolationScope";function Mh(e,t,n){e&&(Ve(e,iu,n),Ve(e,su,t))}function Oh(e){return{scope:e[su],isolationScope:e[iu]}}let An;function ou(e){return An?An.get(e):void 0}function au(e){const t=ou(e);if(!t)return;const n={};for(const[,[r,s]]of t)n[r]||(n[r]=[]),n[r].push(de(s));return n}function Nh(e,t,n,r,s,i){const o=Pt();if(o){const a=ou(o)||new Map,c=`${e}:${t}@${r}`,u=a.get(i);if(u){const[,l]=u;a.set(i,[c,{min:Math.min(l.min,n),max:Math.max(l.max,n),count:l.count+=1,sum:l.sum+=n,tags:l.tags}])}else a.set(i,[c,{min:n,max:n,count:1,sum:n,tags:s}]);An||(An=new WeakMap),An.set(o,a)}}const se="sentry.source",yt="sentry.sample_rate",we="sentry.op",be="sentry.origin",Dh="profile_id";class cu{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class os{constructor(t={}){this._traceId=t.traceId||q(),this._spanId=t.spanId||q().substring(16),this._startTime=t.startTimestamp||He(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[be]:t.origin||"manual",[we]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[we]}set op(t){this.setAttribute(we,t)}get origin(){return this._attributes[be]}set origin(t){this.setAttribute(be,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Jc:zp}}startChild(t){const n=new os({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=rn(this);if(n.transaction=r,w&&r){const s=t&&t.op||"< unknown op >",i=U(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;h.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return rs(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=rn(this);if(w&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&h.log(r.replace("Starting","Finishing"))}this._endTime=es(t)}toTraceparent(){return Qr(this)}toContext(){return de({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return Ci(this)}getSpanJSON(){return de({data:this._getData(),description:this._name,op:this._attributes[we],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[be],_metrics_summary:au(this),profile_id:this._attributes[Dh],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...t,...n}:r?t:n}}class uu extends os{constructor(t,n){super(t),this._contexts={},this._hub=n||Y(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[se]&&{source:this._attributes[se]},...this._attributes[yt]&&{sampleRate:this._attributes[yt]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(se,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new cu(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=es(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return de({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return sn(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(w&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){w&&h.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&U(l).timestamp):[];if(this._trimEnd&&r.length>0){const l=r.map(d=>U(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,f)=>d>f?d:f)}const{scope:s,isolationScope:i}=Oh(this),{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:Ci(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...de({dynamicSamplingContext:sn(this)})},_metrics_summary:au(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(w&&h.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),w&&h.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const Mn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Ph="finishReason",Bt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Lh extends cu{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),U(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class $h extends uu{constructor(t,n,r=Mn.idleTimeout,s=Mn.finalTimeout,i=Mn.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Bt[4],this._autoFinishAllowed=!a,o&&(w&&h.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Bt[3],this.end())},this._finalTimeout)}end(t){const n=es(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Ph,this._finishReason),this.spanRecorder){w&&h.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;U(r).timestamp||(r.setStatus("cancelled"),r.end(n),w&&h.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=U(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&s&&i-s<a;if(w){const u=JSON.stringify(r,void 0,2);o?c||h.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):h.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return o&&c}),w&&h.log("[Tracing] flushing IdleTransaction")}else w&&h.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Lh(n,r,this.spanContext().spanId,t),w&&h.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Bt[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(w&&h.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Bt[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),w&&h.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,w&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(w&&h.log(`[Tracing] popActivity ${t}`),delete this.activities[t],w&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=He();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Bt[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(w&&h.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Bt[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){w&&h.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function lu(e,t,n){if(!_n(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(yt,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(yt,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(yt,Number(r))):(r=1,e.setAttribute(yt,r)),du(r)?r?(e.sampled=Math.random()<r,e.sampled?(w&&h.log(`[Tracing] starting ${e.op} transaction - ${U(e).description}`),e):(w&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(w&&h.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(w&&h.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function du(e){return pc(e)||!(typeof e=="number"||typeof e=="boolean")?(w&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(w&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Fh(){const t=this.getScope().getSpan();return t?{"sentry-trace":Qr(t)}:{}}function Bh(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(w&&h.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new uu(e,this);return o=lu(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Lr(e,t,n,r,s,i,o,a=!1){const c=e.getClient(),u=c&&c.getOptions()||{};let l=new $h(t,e,n,r,o,s,a);return l=lu(l,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function as(){const e=Dt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Bh),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Fh),Ih())}function fu(e,t,n){const r=Ue();r&&r.setMeasurement(e,t,n)}function Hh(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Uh(e,t,n,r){const s=ki(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Mt(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Je(i,[o])}function pu(e,t,n,r){const s=ki(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Hh(e,n&&n.sdk);const o=zc(e,s,r,t);return delete e.sdkProcessingMetadata,Je(o,[[{type:i},e]])}const jh="7";function hu(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Wh(e){return`${hu(e)}${e.projectId}/envelope/`}function zh(e,t){return Hf({sentry_key:e.publicKey,sentry_version:jh,...t&&{sentry_client:`${t.name}/${t.version}`}})}function mu(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Wh(e)}?${zh(e,r)}`}function Gh(e,t){const n=vc(e);if(!n)return"";const r=`${hu(n)}embed/error-page/`;let s=`dsn=${Mt(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const Go=[];function qh(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Yh(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=xc(n(t)):r=t;const s=qh(r),i=Xh(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function Vh(e,t){const n={};return t.forEach(r=>{r&&gu(e,r,n)}),n}function qo(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function gu(e,t,n){if(n[t.name]){w&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Go.indexOf(t.name)===-1&&(t.setupOnce(Vc,Y),Go.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=(i,o)=>r(i,o,e);s.id=t.name,e.addEventProcessor(s)}w&&h.log(`Integration installed: ${t.name}`)}function Kh(e){const t=A();if(!t||!t.addIntegration){w&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Xh(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function ie(e,t){const n=function(...s){return t(...s)};return n.id=e,n}function Jh(e,t,n,r){const s=Object.entries(de(r)).sort((i,o)=>i[0].localeCompare(o[0]));return`${e}${t}${n}${s}`}function Zh(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Qh(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function em(e){return e.replace(/[^\w]+/gi,"_")}function tm(e){return e.replace(/[^\w\-.]+/gi,"_")}function nm(e){return e.replace(/[^\w\-./]+/gi,"")}const rm=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function sm(e){for(const[t,n]of rm)if(e===t)return n;return e}function im(e){return[...e].reduce((t,n)=>t+sm(n),"")}function om(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=nm(n);t[r]=im(String(e[n]))}return t}function am(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=Mt(t));const i=cm(e);return Je(s,[i])}function cm(e){const t=Qh(e);return[{type:"statsd",length:t.length},t]}const Yo="Not capturing exception because it's already been captured.";class um{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=vc(t.dsn):w&&h.warn("No DSN provided, client will not send events."),this._dsn){const n=mu(this._dsn,t);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(Ao(t)){w&&h.log(Yo);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const o=Si(t)?t:String(t),a=bi(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,s)).then(c=>{i=c})),i}captureEvent(t,n,r){if(n&&n.originalException&&Ao(n.originalException)){w&&h.log(Yo);return}let s=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{s=a})),s}captureSession(t){typeof t.release!="string"?w&&h.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ct(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):tn(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return w&&h.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];gu(this,t,this._integrations),n||qo(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=pu(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Mp(r,Pp(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=Uh(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;w&&h.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}captureAggregateMetrics(t){w&&h.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=am(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Vh(this,t),qo(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Ct(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ee(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=je()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),Ai(i,t,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:l,spanId:d,parentSpanId:f,dsc:p}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:f},...a.contexts};const m=p||ts(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:m,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(w){const i=s;i.logLevel==="log"?h.log(i.message):h.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=yu(t),a=_u(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),Ti(new Le(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",l,t),new Le("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const _=dm(s,p,n);return lm(_,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",l,t),o){const g=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw new Le(`${u} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!o&&m&&this._updateSessionFromEvent(m,p),o){const S=p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0,g=p.spans?p.spans.length:0,y=S-g;y>0&&this.recordDroppedEvent("before_send","span",y)}const _=p.transaction_info;if(o&&_&&p.transaction!==t.transaction){const S="custom";p.transaction_info={..._,source:S}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Le?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Le(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{w&&h.error("Error while sending event:",n)});w&&h.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function lm(e,t){const n=`${t} must return \`null\` or a valid event.`;if(zn(e))return e.then(r=>{if(!kt(r)&&r!==null)throw new Le(n);return r},r=>{throw new Le(`${t} rejected with ${r}`)});if(!kt(e)&&e!==null)throw new Le(n);return e}function dm(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(_u(t)&&r)return r(t,n);if(yu(t)&&s){if(t.spans){const i=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:i}}return s(t,n)}return t}function _u(e){return e.type===void 0}function yu(e){return e.type==="transaction"}function Su(e){const t=A();!t||!t.addEventProcessor||t.addEventProcessor(e)}const bu="c",Eu="g",Pi="s",vu="d",fm=5e3;class pm{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class hm{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class mm{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class gm{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Zh(t):t).join(":")}}const _m={[bu]:pm,[Eu]:hm,[vu]:mm,[Pi]:gm};function ym(e,t){t.debug===!0&&(w?h.enable():lt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ae().update(t.initialScope);const r=new e(t);Tu(r),Sm(r)}function Tu(e){const n=Y().getStackTop();n.client=e,n.scope.setClient(e)}function Sm(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const bm=30;function Li(e,t,n=vp(e.bufferSize||bm)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(nn(o,(d,f)=>{const p=Fo(f);if(qc(r,p)){const m=Vo(d,f);e.recordDroppedEvent("ratelimit_backoff",p,m)}else a.push(d)}),a.length===0)return tn();const c=Je(o[0],a),u=d=>{nn(c,(f,p)=>{const m=Vo(f,p);e.recordDroppedEvent(d,Fo(p),m)})},l=()=>t({body:Wc(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&w&&h.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Yc(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Le)return w&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),tn();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function Vo(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const Em=100,Ko=5e3,vm=36e5;function Is(e,t){w&&h.info(`[Offline]: ${e}`,t)}function Tm(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s=Ko,i;function o(l,d,f){return Op(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,d,f):!0}function a(l){r&&(i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const d=await r.pop();d&&(Is("Attempting to send previously queued event"),u(d).catch(f=>{Is("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(s),s=Math.min(s*2,vm))}async function u(l){try{const d=await n.send(l);let f=Em;if(d){if(d.headers&&d.headers["retry-after"])f=Gc(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),s=Ko,d}catch(d){if(r&&await o(l,d,s))return await r.insert(l),c(),Is("Error sending. Event queued",d),{};throw d}}return t.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function Iu(e,t){let n;return nn(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Im(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const i=Iu(s,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(s)}}}}function wm(e,t){return Je(t?{...e[0],dsn:t}:e[0],e[1])}function km(e,t){return n=>{const r=e(n),s=new Map;function i(c,u){const l=u?`${c}:${u}`:c;let d=s.get(l);if(!d){const f=bc(c);if(!f)return;const p=mu(f,n.tunnel);d=u?Im(e,u)({...n,url:p}):e({...n,url:p}),s.set(l,d)}return[c,d]}async function o(c){function u(f){const p=f&&f.length?f:["event"];return Iu(c,p)}const l=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(["",r]),(await Promise.all(l.map(([f,p])=>p.send(wm(c,f)))))[0]}async function a(c){const u=[await r.flush(c)];for(const[,l]of s)u.push(await l.flush(c));return u.every(l=>l)}return{send:o,flush:a}}}function Rm(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=Mt(t));const r=e.map(Cm);return Je(n,r)}function Cm(e){return[{type:"span"},e]}function wu(e,t){const n=t&&Mm(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return Am(e,r)||xm(e,s)}function xm(e,t){return t?Xo(e)===Xo(t):!1}function Am(e,t){return t?e.includes(t.host):!1}function Xo(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Mm(e){return e.getClient!==void 0}function Om(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function ku(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Dr})),version:Dr}),e._metadata=s}const Ru=new Map,Jo=new Set;function Nm(e){if(O._sentryModuleMetadata)for(const t of Object.keys(O._sentryModuleMetadata)){const n=O._sentryModuleMetadata[t];if(Jo.has(t))continue;Jo.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){Ru.set(s.filename,n);break}}}function Dm(e,t){return Nm(e),Ru.get(t)}function Pm(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=Dm(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function Lm(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const Cu="ModuleMetadata",$m=()=>({name:Cu,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{nn(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(Lm(s),n[1]=s)}})})},processEvent(e,t,n){const r=n.getOptions().stackParser;return Pm(r,e),e}}),xu=$m,Fm=ie(Cu,xu),Bm=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Hm=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Au="InboundFilters",Um=(e={})=>({name:Au,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=jm(e,s);return Wm(t,i)?null:t}}),$i=Um,Mu=ie(Au,$i);function jm(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Bm],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Hm],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Wm(e,t){return t.ignoreInternal&&Km(e)?(w&&h.warn(`Event dropped due to being internal Sentry Error.
Event: ${it(e)}`),!0):zm(e,t.ignoreErrors)?(w&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${it(e)}`),!0):Gm(e,t.ignoreTransactions)?(w&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${it(e)}`),!0):qm(e,t.denyUrls)?(w&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${it(e)}.
Url: ${$r(e)}`),!0):Ym(e,t.allowUrls)?!1:(w&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${it(e)}.
Url: ${$r(e)}`),!0)}function zm(e,t){return e.type||!t||!t.length?!1:Vm(e).some(n=>hn(n,t))}function Gm(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?hn(n,t):!1}function qm(e,t){if(!t||!t.length)return!1;const n=$r(e);return n?hn(n,t):!1}function Ym(e,t){if(!t||!t.length)return!0;const n=$r(e);return n?hn(n,t):!0}function Vm(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),w&&t.length===0&&h.error(`Could not extract message for event ${it(e)}`),t}function Km(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Xm(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function $r(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Xm(t):null}catch{return w&&h.error(`Cannot extract url for event ${it(e)}`),null}}let Zo;const Ou="FunctionToString",Qo=new WeakMap,Jm=()=>({name:Ou,setupOnce(){Zo=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=vi(this),n=Qo.has(A())&&t!==void 0?t:this;return Zo.apply(n,e)}}catch{}},setup(e){Qo.set(e,!0)}}),Fi=Jm,Nu=ie(Ou,Fi),Zm="cause",Qm=5,Du="LinkedErrors",eg=(e={})=>{const t=e.limit||Qm,n=e.key||Zm;return{name:Du,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();mc(Up,o.stackParser,o.maxValueLength,n,t,r,s)}}},tg=eg,ng=ie(Du,tg),rg=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:Nu,InboundFilters:Mu,LinkedErrors:ng},Symbol.toStringTag,{value:"Module"}));class sg{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),fm)}add(t,n,r,s="none",i={},o=He()){const a=Math.floor(o),c=tm(n),u=om(i),l=em(s),d=Jh(t,c,l,u);let f=this._buckets.get(d);const p=f&&t===Pi?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new _m[t](r),timestamp:a,metricType:t,name:c,unit:l,tags:u},this._buckets.set(d,f));const m=typeof r=="string"?f.metric.weight-p:r;Nh(t,c,m,l,i,d)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Pu="MetricsAggregator",ig=()=>({name:Pu,setupOnce(){},setup(e){e.metricsAggregator=new sg(e)}}),Lu=ig,og=ie(Pu,Lu);function cs(e,t,n,r={}){const s=A(),i=ae();if(s){if(!s.metricsAggregator){w&&h.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}const{unit:o,tags:a,timestamp:c}=r,{release:u,environment:l}=s.getOptions(),d=i.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=U(d).description||""),w&&h.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,o,{...f,...a},c)}}function ag(e,t=1,n){cs(bu,e,t,n)}function cg(e,t,n){cs(vu,e,t,n)}function ug(e,t,n){cs(Pi,e,t,n)}function lg(e,t,n){cs(Eu,e,t,n)}const dg={increment:ag,distribution:cg,set:ug,gauge:lg,MetricsAggregator:og,metricsAggregatorIntegration:Lu},fg=rg,L=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,R=O;function $u(){R.document?R.document.addEventListener("visibilitychange",()=>{const e=Ue();if(R.document.hidden&&e){const t="cancelled",{op:n,status:r}=U(e);L&&h.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):L&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Kn=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},pg=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,hg=()=>{const e=R.performance.timing,t=R.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},us=()=>R.__WEB_VITALS_POLYFILL__?R.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||hg()):R.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Bi=()=>{const e=us();return e&&e.activationStart||0},Xn=(e,t)=>{const n=us();let r="navigate";return n&&(R.document&&R.document.prerendering||Bi()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:pg(),navigationType:r}},yn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Jn=(e,t)=>{const n=r=>{(r.type==="pagehide"||R.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};R.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},mg=(e,t={})=>{const n=Xn("CLS",0);let r,s=0,i=[];const o=c=>{c.forEach(u=>{if(!u.hadRecentInput){const l=i[0],d=i[i.length-1];s&&i.length!==0&&u.startTime-d.startTime<1e3&&u.startTime-l.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u]),s>n.value&&(n.value=s,n.entries=i,r&&r())}})},a=yn("layout-shift",o);if(a){r=Kn(e,n,t.reportAllChanges);const c=()=>{o(a.takeRecords()),r(!0)};return Jn(c),c}};let Fr=-1;const gg=()=>{R.document&&R.document.visibilityState&&(Fr=R.document.visibilityState==="hidden"&&!R.document.prerendering?0:1/0)},_g=()=>{Jn(({timeStamp:e})=>{Fr=e},!0)},Hi=()=>(Fr<0&&(gg(),_g()),{get firstHiddenTime(){return Fr}}),yg=e=>{const t=Hi(),n=Xn("FID");let r;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=yn("first-input",i);r=Kn(e,n),o&&Jn(()=>{i(o.takeRecords()),o.disconnect()},!0)};let Fu=0,ws=1/0,pr=0;const Sg=e=>{e.forEach(t=>{t.interactionId&&(ws=Math.min(ws,t.interactionId),pr=Math.max(pr,t.interactionId),Fu=pr?(pr-ws)/7+1:0)})};let ei;const bg=()=>ei?Fu:performance.interactionCount||0,Eg=()=>{"interactionCount"in performance||ei||(ei=yn("event",Sg,{type:"event",buffered:!0,durationThreshold:0}))},Bu=()=>bg(),ea=10,Ge=[],ks={},ta=e=>{const t=Ge[Ge.length-1],n=ks[e.interactionId];if(n||Ge.length<ea||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};ks[r.id]=r,Ge.push(r)}Ge.sort((r,s)=>s.latency-r.latency),Ge.splice(ea).forEach(r=>{delete ks[r.id]})}},vg=()=>{const e=Math.min(Ge.length-1,Math.floor(Bu()/50));return Ge[e]},Tg=(e,t)=>{t=t||{},Eg();const n=Xn("INP");let r;const s=o=>{o.forEach(c=>{c.interactionId&&ta(c),c.entryType==="first-input"&&!Ge.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&ta(c)});const a=vg();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=yn("event",s,{durationThreshold:t.durationThreshold||40});r=Kn(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Jn(()=>{s(i.takeRecords()),n.value<0&&Bu()>0&&(n.value=0,n.entries=[]),r(!0)}))},na={},Ig=e=>{const t=Hi(),n=Xn("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-Bi(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=yn("largest-contentful-paint",s);if(i){r=Kn(e,n);const o=()=>{na[n.id]||(s(i.takeRecords()),i.disconnect(),na[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{R.document&&addEventListener(a,o,{once:!0,capture:!0})}),Jn(o,!0),o}},ti=e=>{R.document&&(R.document.prerendering?addEventListener("prerenderingchange",()=>ti(e),!0):R.document.readyState!=="complete"?addEventListener("load",()=>ti(e),!0):setTimeout(e,0))},wg=(e,t)=>{t=t||{};const n=Xn("TTFB"),r=Kn(e,n,t.reportAllChanges);ti(()=>{const s=us();if(s){if(n.value=Math.max(s.responseStart-Bi(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},On={},Br={};let Hu,Uu,ju,Wu,zu;function kg(e,t=!1){return Zn("cls",e,Ag,Hu,t)}function Gu(e,t=!1){return Zn("lcp",e,Og,ju,t)}function Rg(e){return Zn("ttfb",e,Ng,Wu)}function Cg(e){return Zn("fid",e,Mg,Uu)}function xg(e){return Zn("inp",e,Dg,zu)}function dt(e,t){return qu(e,t),Br[e]||(Pg(e),Br[e]=!0),Yu(e,t)}function Sn(e,t){const n=On[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){L&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ke(r)}
Error:`,s)}}function Ag(){return mg(e=>{Sn("cls",{metric:e}),Hu=e},{reportAllChanges:!0})}function Mg(){return yg(e=>{Sn("fid",{metric:e}),Uu=e})}function Og(){return Ig(e=>{Sn("lcp",{metric:e}),ju=e})}function Ng(){return wg(e=>{Sn("ttfb",{metric:e}),Wu=e})}function Dg(){return Tg(e=>{Sn("inp",{metric:e}),zu=e})}function Zn(e,t,n,r,s=!1){qu(e,t);let i;return Br[e]||(i=n(),Br[e]=!0),r&&t({metric:r}),Yu(e,t,s?i:void 0)}function Pg(e){const t={};e==="event"&&(t.durationThreshold=0),yn(e,n=>{Sn(e,{entries:n})},t)}function qu(e,t){On[e]=On[e]||[],On[e].push(t)}function Yu(e,t,n){return()=>{n&&n();const r=On[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function Rs(e){return typeof e=="number"&&isFinite(e)}function on(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const Lg=2147483647;function ue(e){return e/1e3}function Ui(){return R&&R.addEventListener&&R.performance}let ra=0,re={},De,Nn;function Vu(){const e=Ui();if(e&&fe){e.mark&&R.performance.mark("sentry-tracing-init");const t=Bg(),n=$g(),r=Fg(),s=Hg();return()=>{t(),n(),r(),s()}}return()=>{}}function Ku(){dt("longtask",({entries:e})=>{for(const t of e){const n=Ue();if(!n)return;const r=ue(fe+t.startTime),s=ue(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function Xu(){dt("event",({entries:e})=>{for(const t of e){const n=Ue();if(!n)return;if(t.name==="click"){const r=ue(fe+t.startTime),s=ue(t.duration),i={description:ut(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=Sc(t.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function Ju(e,t){if(Ui()&&fe){const r=Ug(e,t);return()=>{r()}}return()=>{}}function $g(){return kg(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(L&&h.log("[Measurements] Adding CLS"),re.cls={value:e.value,unit:""},Nn=t)},!0)}function Fg(){return Gu(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(L&&h.log("[Measurements] Adding LCP"),re.lcp={value:e.value,unit:"millisecond"},De=t)},!0)}function Bg(){return Cg(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=ue(fe),r=ue(t.startTime);L&&h.log("[Measurements] Adding FID"),re.fid={value:e.value,unit:"millisecond"},re["mark.fid"]={value:n+r,unit:"second"}})}function Hg(){return Rg(({metric:e})=>{e.entries[e.entries.length-1]&&(L&&h.log("[Measurements] Adding TTFB"),re.ttfb={value:e.value,unit:"millisecond"})})}const sa={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Ug(e,t){return xg(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&sa[b.name]!==void 0),s=A();if(!r||!s)return;const i=sa[r.name],o=s.getOptions(),a=ue(fe+r.startTime),c=ue(n.value),u=r.interactionId!==void 0?e[r.interactionId]:void 0;if(u===void 0)return;const{routeName:l,parentContext:d,activeTransaction:f,user:p,replayId:m}=u,_=p!==void 0?p.email||p.id||p.ip_address:void 0,S=f!==void 0?f.getProfileId():void 0,g=new os({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${i}`,name:ut(r.target),attributes:{release:o.release,environment:o.environment,transaction:l,..._!==void 0&&_!==""?{user:_}:{},...S!==void 0?{profile_id:S}:{},...m!==void 0?{replay_id:m}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=Kg(d,o,t);if(y&&Math.random()<y){const b=g?Rm([g],s.getDsn()):void 0,E=s&&s.getTransport();E&&b&&E.send(b).then(null,M=>{L&&h.error("Error while sending interaction:",M)});return}})}function Zu(e){const t=Ui();if(!t||!R.performance.getEntries||!fe)return;L&&h.log("[Tracing] Adding & adjusting spans using Performance API");const n=ue(fe),r=t.getEntries(),{op:s,start_timestamp:i}=U(e);if(r.slice(ra).forEach(o=>{const a=ue(o.startTime),c=ue(o.duration);if(!(e.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{Wg(e,o,n);break}case"mark":case"paint":case"measure":{jg(e,o,a,c,n);const u=Hi(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&(L&&h.log("[Measurements] Adding FP"),re.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(L&&h.log("[Measurements] Adding FCP"),re.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{Gg(e,o,o.name,a,c,n);break}}}),ra=Math.max(r.length-1,0),qg(e),s==="pageload"){Vg(re),["fcp","fp","lcp"].forEach(a=>{if(!re[a]||!i||n>=i)return;const c=re[a].value,u=n+ue(c),l=Math.abs((u-i)*1e3),d=l-c;L&&h.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),re[a].value=l});const o=re["mark.fid"];o&&re.fid&&(on(e,{description:"first input delay",endTimestamp:o.value+ue(re.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete re["mark.fid"]),"fcp"in re||delete re.cls,Object.keys(re).forEach(a=>{fu(a,re[a].value,re[a].unit)}),Yg(e)}De=void 0,Nn=void 0,re={}}function jg(e,t,n,r,s){const i=s+n,o=i+r;return on(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Wg(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{hr(e,t,r,n)}),hr(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),hr(e,t,"fetch",n,"cache","domainLookupStart"),hr(e,t,"domainLookup",n,"DNS"),zg(e,t,n)}function hr(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!o||on(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+ue(a),endTimestamp:r+ue(o)})}function zg(e,t,n){t.responseEnd&&(on(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ue(t.requestStart),endTimestamp:n+ue(t.responseEnd)}),on(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ue(t.responseStart),endTimestamp:n+ue(t.responseEnd)}))}function Gg(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=vt(n),a={};Cs(a,t,"transferSize","http.response_transfer_size"),Cs(a,t,"encodedBodySize","http.response_content_length"),Cs(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(R.location.origin);const c=i+r,u=c+s;on(e,{description:n.replace(R.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function qg(e){const t=R.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Rs(n.rtt)&&(re["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Rs(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Rs(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Yg(e){De&&(L&&h.log("[Measurements] Adding LCP Data"),De.element&&e.setTag("lcp.element",ut(De.element)),De.id&&e.setTag("lcp.id",De.id),De.url&&e.setTag("lcp.url",De.url.trim().slice(0,200)),e.setTag("lcp.size",De.size)),Nn&&Nn.sources&&(L&&h.log("[Measurements] Adding CLS Data"),Nn.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,ut(t.node))))}function Cs(e,t,n,r){const s=t[n];s!=null&&s<Lg&&(e[r]=s)}function Vg(e){const t=us();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(L&&h.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Kg(e,t,n){if(!_n(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:R.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,du(r)?r===!0?n:r===!1?0:r*n:(L&&h.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function Xg(e,t,n,r,s="auto.http.browser"){if(!_n()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const p=e.fetchData.__span;if(!p)return;const m=r[p];m&&(Qg(m,e),delete r[p]);return}const o=ae(),a=A(),{method:c,url:u}=e.fetchData,l=Zg(u),d=l?vt(l).host:void 0,f=i?ot({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[be]:s},op:"http.client"}):void 0;if(f&&(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=Jg(p,a,o,m,f)}return f}function Jg(e,t,n,r,s){const i=s||n.getSpan(),o=je(),{traceId:a,spanId:c,sampled:u,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?Qr(i):wi(a,c,u),f=Uc(l||(i?sn(i):ts(a,t,n))),p=r.headers||(typeof Request<"u"&&Ye(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&Ye(p,Headers)){const m=new Headers(p);return m.append("sentry-trace",d),f&&m.append(Ys,f),m}else if(Array.isArray(p)){const m=[...p,["sentry-trace",d]];return f&&m.push([Ys,f]),m}else{const m="baggage"in p?p.baggage:void 0,_=[];return Array.isArray(m)?_.push(...m):m&&_.push(m),f&&_.push(f),{...p,"sentry-trace":d,baggage:_.length>0?_.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}function Zg(e){try{return new URL(e).href}catch{return}}function Qg(e,t){if(t.response){rs(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const ni=["localhost",/^\/(?!\/)/],Fn={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:ni,tracePropagationTargets:ni};function ji(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Fn.traceFetch,traceXHR:Fn.traceXHR,...e},a=typeof i=="function"?i:l=>!0,c=l=>r_(l,r||s),u={};t&&Jr(l=>{const d=Xg(l,a,c,u);if(d){const f=Qu(l.fetchData.url),p=f?vt(f).host:void 0;d.setAttributes({"http.url":f,"server.address":p})}o&&d&&ia(d)}),n&&Zr(l=>{const d=s_(l,a,c,u);o&&d&&ia(d)})}function e_(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ia(e){const{url:t}=U(e).data||{};if(!t||typeof t!="string")return;const n=dt("resource",({entries:r})=>{r.forEach(s=>{e_(s)&&s.name.endsWith(t)&&(n_(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function t_(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Ne(e=0){return((fe||performance.timeOrigin)+e)/1e3}function n_(e){const{name:t,version:n}=t_(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),fe?[...r,["http.request.redirect_start",Ne(e.redirectStart)],["http.request.fetch_start",Ne(e.fetchStart)],["http.request.domain_lookup_start",Ne(e.domainLookupStart)],["http.request.domain_lookup_end",Ne(e.domainLookupEnd)],["http.request.connect_start",Ne(e.connectStart)],["http.request.secure_connection_start",Ne(e.secureConnectionStart)],["http.request.connection_end",Ne(e.connectEnd)],["http.request.request_start",Ne(e.requestStart)],["http.request.response_start",Ne(e.responseStart)],["http.request.response_end",Ne(e.responseEnd)]]:r}function r_(e,t){return hn(e,t||ni)}function s_(e,t,n,r){const s=e.xhr,i=s&&s[qe];if(!_n()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const p=s.__sentry_xhr_span_id__;if(!p)return;const m=r[p];m&&i.status_code!==void 0&&(rs(m,i.status_code),m.end(),delete r[p]);return}const a=ae(),c=je(),u=Qu(i.url),l=u?vt(u).host:void 0,d=o?ot({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":l,[be]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const f=A();if(s.setRequestHeader&&n(i.url)&&f){const{traceId:p,spanId:m,sampled:_,dsc:S}={...c.getPropagationContext(),...a.getPropagationContext()},g=d?Qr(d):wi(p,m,_),y=Uc(S||(d?sn(d):ts(p,f,a)));i_(s,g,y)}return d}function i_(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Ys,n)}catch{}}function Qu(e){try{return new URL(e,R.location.origin).href}catch{return}}function o_(e,t=!0,n=!0){if(!R||!R.location){L&&h.warn("Could not initialize routing instrumentation due to invalid location");return}let r=R.location.href,s;t&&(s=e({name:R.location.pathname,startTimestamp:fe?fe/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Gn(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(L&&h.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=e({name:R.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const a_="BrowserTracing",c_={...Mn,markBackgroundTransactions:!0,routingInstrumentation:o_,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Fn},oa=10;class u_{constructor(t){this.name=a_,this._hasSetTracePropagationTargets=!1,as(),L&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...c_,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Vu(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Ju(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&Ku(),this.options._experiments.enableInteractions&&Xu(),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:m}=this.options,_=i&&i.tracePropagationTargets,S=_||this.options.tracePropagationTargets;L&&this._hasSetTracePropagationTargets&&_&&h.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(g=>{const y=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(y,g,n),y},c,a),u&&$u(),m.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),ji({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(t){if(!this._getCurrentHub){L&&h.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,a=t.op==="pageload";let c;if(a){const p=a?aa("sentry-trace"):"",m=a?aa("baggage"):void 0,{traceId:_,dsc:S,parentSpanId:g,sampled:y}=jc(p,m);c={traceId:_,parentSpanId:g,parentSampled:y,...t,metadata:{...t.metadata,dynamicSamplingContext:S},trimEnd:!0}}else c={trimEnd:!0,...t};const u=typeof r=="function"?r(c):c,l=u===void 0?{...c,sampled:!1}:u;l.metadata=l.name!==c.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&L&&h.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),L&&h.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:d}=R,f=Lr(n,l,s,i,!0,{location:d},o,a);return a&&R.document&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback(p=>{this._collectWebVitals(),Zu(p)}),f}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",a=Ue();if(a&&a.op&&["navigation","pageload"].includes(a.op)){L&&h.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){L&&h.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){L&&h.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=R,l={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[se]:this._latestRoute.context?l_(this._latestRoute.context):"url"}};t=Lr(c,l,r,s,!0,{location:u},i)};["click"].forEach(r=>{R.document&&addEventListener(r,n,{once:!1,capture:!0})})}_registerInpInteractionListener(){const t=({entries:n})=>{const r=A(),s=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,o=Ue(),a=ae(),c=a!==void 0?a.getUser():void 0;n.forEach(u=>{if(d_(u)){const l=u.interactionId;if(l===void 0)return;const d=this._interactionIdToRouteNameMapping[l],f=u.duration,p=u.startTime,m=Object.keys(this._interactionIdToRouteNameMapping),_=m.length>0?m.reduce((S,g)=>this._interactionIdToRouteNameMapping[S].duration<this._interactionIdToRouteNameMapping[g].duration?S:g):void 0;if(u.entryType==="first-input"&&m.map(g=>this._interactionIdToRouteNameMapping[g]).some(g=>g.duration===f&&g.startTime===p)||!l)return;if(d)d.duration=Math.max(d.duration,f);else if(m.length<oa||_===void 0||f>this._interactionIdToRouteNameMapping[_].duration){const S=this._latestRoute.name,g=this._latestRoute.context;S&&g&&(_&&Object.keys(this._interactionIdToRouteNameMapping).length>=oa&&delete this._interactionIdToRouteNameMapping[_],this._interactionIdToRouteNameMapping[l]={routeName:S,duration:f,parentContext:g,user:c,activeTransaction:o,replayId:i,startTime:p})}}})};dt("event",t),dt("first-input",t)}}function aa(e){const t=yc(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function l_(e){const t=e.attributes&&e.attributes[se],n=e.data&&e.data[se],r=e.metadata&&e.metadata.source;return t||n||r}function d_(e){return"duration"in e}const f_="BrowserTracing",p_={...Mn,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Fn},Qn=(e={})=>{const t=L?!!(e.tracePropagationTargets||e.tracingOrigins):!1;as(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...p_,...e},r=Vu(),s={};n.enableInp&&Ju(s,n.interactionsSampleRate),n.enableLongTask&&Ku(),n._experiments.enableInteractions&&Xu();const i={name:void 0,context:void 0};function o(a){const c=Y(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:f}=n,p=a.op==="pageload";let m;if(p){const y=p?ca("sentry-trace"):"",b=p?ca("baggage"):void 0,{traceId:E,dsc:M,parentSpanId:C,sampled:v}=jc(y,b);m={traceId:E,parentSpanId:C,parentSampled:v,...a,metadata:{...a.metadata,dynamicSamplingContext:M},trimEnd:!0}}else m={trimEnd:!0,...a};const _=u?u(m):m;_.metadata=_.name!==m.name?{..._.metadata,source:"custom"}:_.metadata,i.name=_.name,i.context=_,_.sampled===!1&&L&&h.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),L&&h.log(`[Tracing] Starting ${_.op} transaction on scope`);const{location:S}=R,g=Lr(c,_,l,d,!0,{location:S},f,p);return p&&R.document&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(y=>{r(),Zu(y)}),g}return{name:f_,setupOnce:()=>{},afterAllSetup(a){const c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:m}=n,_=c&&c.tracePropagationTargets,S=_||n.tracePropagationTargets;L&&t&&_&&h.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,y=R.location&&R.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{g&&(L&&h.log(`[Tracing] Finishing current transaction with op: ${U(g).op}`),g.end()),g=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{g&&(L&&h.log(`[Tracing] Finishing current transaction with op: ${U(g).op}`),g.end()),g=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&R.location){const b={name:R.location.pathname,startTimestamp:fe?fe/1e3:void 0,origin:"auto.pageload.browser",attributes:{[se]:"url"}};bn(a,b)}n.instrumentNavigation&&a.emit&&R.location&&Gn(({to:b,from:E})=>{if(E===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(E!==b){y=void 0;const M={name:R.location.pathname,origin:"auto.navigation.browser",attributes:{[se]:"url"}};En(a,M)}}),u&&$u(),m.enableInteractions&&h_(n,i),n.enableInp&&g_(s,i),ji({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:f,enableHTTPTimings:p})},options:n}};function bn(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=Pt();return(n&&U(n).op)==="pageload"?n:void 0}function En(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=Pt();return(n&&U(n).op)==="navigation"?n:void 0}function ca(e){const t=yc(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function h_(e,t){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=e,a="ui.action.click",c=Ue();if(c&&c.op&&["navigation","pageload"].includes(c.op)){L&&h.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){L&&h.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:u}=R,l={name:t.name,op:a,trimEnd:!0,data:{[se]:t.context?__(t.context):"url"}};n=Lr(Y(),l,s,i,!0,{location:u},o)};["click"].forEach(s=>{R.document&&addEventListener(s,r,{once:!1,capture:!0})})}function m_(e){return"duration"in e}const ua=10;function g_(e,t){const n=({entries:r})=>{const s=A(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,o=i!==void 0?i.getReplayId():void 0,a=Ue(),c=ae(),u=c!==void 0?c.getUser():void 0;r.forEach(l=>{if(m_(l)){const d=l.interactionId;if(d===void 0)return;const f=e[d],p=l.duration,m=l.startTime,_=Object.keys(e),S=_.length>0?_.reduce((g,y)=>e[g].duration<e[y].duration?g:y):void 0;if(l.entryType==="first-input"&&_.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===m)||!d)return;if(f)f.duration=Math.max(f.duration,p);else if(_.length<ua||S===void 0||p>e[S].duration){const g=t.name,y=t.context;g&&y&&(S&&Object.keys(e).length>=ua&&delete e[S],e[d]={routeName:g,duration:p,parentContext:y,user:u,activeTransaction:a,replayId:o,startTime:m})}}})};dt("event",n),dt("first-input",n)}function __(e){const t=e.attributes&&e.attributes[se],n=e.data&&e.data[se],r=e.metadata&&e.metadata.source;return t||n||r}function y_(){const e=Dt();if(!e.__SENTRY__)return;const t={mongodb(){const r=_t(module,"./node/integrations/mongo");return new r.Mongo},mongoose(){const r=_t(module,"./node/integrations/mongo");return new r.Mongo},mysql(){const r=_t(module,"./node/integrations/mysql");return new r.Mysql},pg(){const r=_t(module,"./node/integrations/postgres");return new r.Postgres}},n=Object.keys(t).filter(r=>!!lp(r)).map(r=>{try{return t[r]()}catch{return}}).filter(r=>r);n.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...n])}function S_(){as(),Pc()&&y_()}const I=O;let ri=0;function el(){return ri>0}function b_(){ri++,setTimeout(()=>{ri--})}function xt(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(vi(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{const i=s.map(o=>xt(o,t));return e.apply(this,i)}catch(i){throw b_(),Ze(o=>{o.addEventProcessor(a=>(t.mechanism&&(Hs(a,void 0),Rt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),gn(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Tc(r,e),Ve(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Wi(e,t){const n=zi(e,t),r={type:t&&t.name,value:I_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function E_(e,t,n,r){const s=A(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Xr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:w_(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Lc(t,i)}};if(n){const a=zi(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function xs(e,t){return{exception:{values:[Wi(e,t)]}}}function zi(e,t){const n=t.stacktrace||t.stack||"",r=T_(t);try{return e(n,r)}catch{}return[]}const v_=/Minified React error #\d+;/i;function T_(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(v_.test(e.message))return 1}return 0}function I_(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function tl(e,t,n,r){const s=n&&n.syntheticException||void 0,i=Gi(e,t,s,r);return Rt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),tn(i)}function nl(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=si(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),tn(o)}function Gi(e,t,n,r,s){let i;if(yi(t)&&t.error)return xs(e,t.error);if(vo(t)||Rf(t)){const o=t;if("stack"in t)i=xs(e,t);else{const a=o.name||(vo(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=si(e,c,n,r),Hs(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Et(t)?xs(e,t):kt(t)||Xr(t)?(i=E_(e,t,n,s),Rt(i,{synthetic:!0}),i):(i=si(e,t,n,r),Hs(i,`${t}`),Rt(i,{synthetic:!0}),i)}function si(e,t,n,r){const s={};if(r&&n){const i=zi(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(Si(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function w_(e,{isUnhandledRejection:t}){const n=Uf(e),r=t?"promise rejection":"exception";return yi(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Xr(e)?`Event \`${k_(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function k_(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function rl(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Mt(r)}},i=R_(e);return Je(s,[i])}function R_(e){return[{type:"user_report"},e]}class sl extends um{constructor(t){const n=I.SENTRY_SDK_SOURCE||up();ku(t,"browser",["browser"],n),super(t),t.sendClientReports&&I.document&&I.document.addEventListener("visibilitychange",()=>{I.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return tl(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return nl(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){F&&h.warn("SDK not enabled, will not capture user feedback.");return}const n=rl(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){F&&h.log("No outcomes to send");return}if(!this._dsn){F&&h.log("No dsn provided, will not send outcomes");return}F&&h.log("Sending outcomes:",t);const n=$p(t,this._options.tunnel&&Mt(this._dsn));this._sendEnvelope(n)}}let xn;function C_(){if(xn)return xn;if(Ws(I.fetch))return xn=I.fetch.bind(I);const e=I.document;let t=I.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){F&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return xn=t.bind(I)}function x_(){xn=void 0}function il(e,t=C_()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return x_(),n-=o,r--,Ti(c)}}return Li(e,s)}const A_=4;function ol(e){function t(n){return new Ee((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===A_&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(n.body)})}return Li(e,t)}const vn="?",M_=10,O_=20,N_=30,D_=40,P_=50;function er(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const L_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$_=/\((\S*)(?::(\d+))(?::(\d+))\)/,F_=e=>{const t=L_.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=$_.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=fl(t[1]||vn,t[2]);return er(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},al=[N_,F_],B_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,H_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,U_=e=>{const t=B_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=H_.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||vn;return[s,r]=fl(s,r),er(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},cl=[P_,U_],j_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,W_=e=>{const t=j_.exec(e);return t?er(t[2],t[1]||vn,+t[3],t[4]?+t[4]:void 0):void 0},ul=[D_,W_],z_=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,G_=e=>{const t=z_.exec(e);return t?er(t[2],t[3]||vn,+t[1]):void 0},q_=[M_,G_],Y_=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,V_=e=>{const t=Y_.exec(e);return t?er(t[5],t[3]||t[4]||vn,+t[1],+t[2]):void 0},K_=[O_,V_],ll=[al,cl,ul],dl=kc(...ll),fl=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:vn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},mr=1024,pl="Breadcrumbs",X_=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:pl,setupOnce(){},setup(n){t.console&&Rc(Q_(n)),t.dom&&Ac(Z_(n,t.dom)),t.xhr&&Zr(ey(n)),t.fetch&&Jr(ty(n)),t.history&&Gn(ny(n)),t.sentry&&n.on&&n.on("beforeSendEvent",J_(n))}}},qi=X_,hl=ie(pl,qi);function J_(e){return function(n){A()===e&&Xe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:it(n)},{event:n})}}function Z_(e,t){return function(r){if(A()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>mr&&(F&&h.warn(`\`dom.maxStringLength\` cannot exceed ${mr}, but a value of ${a} was configured. Sentry will use ${mr} instead.`),a=mr),typeof o=="string"&&(o=[o]);try{const u=r.event,l=ry(u)?u.target:u;s=ut(l,{keyAttrs:o,maxStringLength:a}),i=Sc(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),Xe(c,{event:r.event,name:r.name,global:r.global})}}function Q_(e){return function(n){if(A()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:$c(n.level),message:Cr(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Cr(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Xe(r,{input:n.args,level:n.level})}}function ey(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[qe];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};Xe({category:"xhr",data:l,type:"http"},d)}}function ty(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};Xe({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};Xe({category:"fetch",data:o,type:"http"},a)}}}function ny(e){return function(n){if(A()!==e)return;let r=n.from,s=n.to;const i=vt(I.location.href);let o=r?vt(r):void 0;const a=vt(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),Xe({category:"navigation",data:{from:r,to:s}})}}function ry(e){return!!e&&!!e.target}const ml="Dedupe",sy=()=>{let e;return{name:ml,setupOnce(){},processEvent(t){if(t.type)return t;try{if(iy(t,e))return F&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},gl=sy,_l=ie(ml,gl);function iy(e,t){return t?!!(oy(e,t)||ay(e,t)):!1}function oy(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Sl(e,t)||!yl(e,t))}function ay(e,t){const n=la(t),r=la(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Sl(e,t)||!yl(e,t))}function yl(e,t){let n=da(e),r=da(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Sl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function la(e){return e.exception&&e.exception.values&&e.exception.values[0]}function da(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const bl="GlobalHandlers",cy=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:bl,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(uy(n),fa("onerror")),t.onunhandledrejection&&(ly(n),fa("onunhandledrejection"))}}},Yi=cy,El=ie(bl,Yi);function uy(e){Nc(t=>{const{stackParser:n,attachStacktrace:r}=Tl();if(A()!==e||el())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=c===void 0&&Fe(s)?py(s,i,o,a):vl(Gi(n,c||s,void 0,r,!1),i,o,a);u.level="error",Vn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function ly(e){Dc(t=>{const{stackParser:n,attachStacktrace:r}=Tl();if(A()!==e||el())return;const s=dy(t),i=bi(s)?fy(s):Gi(n,s,void 0,r,!0);i.level="error",Vn(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function dy(e){if(bi(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function fy(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function py(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=yi(e)?e.message:e,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),vl({exception:{values:[{type:o,value:i}]}},t,n,r)}function vl(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Fe(t)&&t.length>0?t:_c();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function fa(e){F&&h.log(`Global Handler attached: ${e}`)}function Tl(){const e=A();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Il="HttpContext",hy=()=>({name:Il,setupOnce(){},preprocessEvent(e){if(!I.navigator&&!I.location&&!I.document)return;const t=e.request&&e.request.url||I.location&&I.location.href,{referrer:n}=I.document||{},{userAgent:r}=I.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),Vi=hy,wl=ie(Il,Vi),my="cause",gy=5,kl="LinkedErrors",_y=(e={})=>{const t=e.limit||gy,n=e.key||my;return{name:kl,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();mc(Wi,o.stackParser,o.maxValueLength,n,t,r,s)}}},Ki=_y,Rl=ie(kl,Ki),yy=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Cl="TryCatch",Sy=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Cl,setupOnce(){t.setTimeout&&le(I,"setTimeout",pa),t.setInterval&&le(I,"setInterval",pa),t.requestAnimationFrame&&le(I,"requestAnimationFrame",by),t.XMLHttpRequest&&"XMLHttpRequest"in I&&le(XMLHttpRequest.prototype,"send",Ey);const n=t.eventTarget;n&&(Array.isArray(n)?n:yy).forEach(vy)}}},Xi=Sy,xl=ie(Cl,Xi);function pa(e){return function(...t){const n=t[0];return t[0]=xt(n,{mechanism:{data:{function:Ke(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function by(e){return function(t){return e.apply(this,[xt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ke(e)},handled:!1,type:"instrument"}})])}}function Ey(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&le(n,s,function(i){const o={mechanism:{data:{function:s,handler:Ke(i)},handled:!1,type:"instrument"}},a=vi(i);return a&&(o.mechanism.data.handler=Ke(a)),xt(i,o)})}),e.apply(this,t)}}function vy(e){const t=I,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(le(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=xt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ke(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,xt(i,{mechanism:{data:{function:"addEventListener",handler:Ke(i),target:e},handled:!1,type:"instrument"}}),o])}}),le(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch{}return r.call(this,s,a,o)}}))}const Al=[$i(),Fi(),Xi(),qi(),Yi(),Ki(),gl(),Vi()];function Ml(e){return[...Al]}function Ty(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Ml()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),I.SENTRY_RELEASE&&I.SENTRY_RELEASE.id&&(e.release=I.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Wf(e.stackParser||dl),integrations:Yh(e),transport:e.transport||(Mc()?il:ol)};ym(sl,t),e.autoSessionTracking&&Ry()}const ii=(e={},t=Y())=>{if(!I.document){F&&h.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){F&&h.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=I.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Gh(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{o()}finally{I.removeEventListener("message",c)}};I.addEventListener("message",c)}const a=I.document.head||I.document.body;a?a.appendChild(i):F&&h.error("Not injecting report dialog. No injection point found in HTML")};function Iy(){}function wy(e){e()}function ky(e){return xt(e)()}function Ry(){if(typeof I.document>"u"){F&&h.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Xs({ignoreDuration:!0}),Js(),Gn(({from:e,to:t})=>{e!==void 0&&e!==t&&(Xs({ignoreDuration:!0}),Js())})}function Cy(e){const t=A();t&&t.captureUserFeedback(e)}const xy=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:hl,Dedupe:_l,GlobalHandlers:El,HttpContext:wl,LinkedErrors:Rl,TryCatch:xl},Symbol.toStringTag,{value:"Module"})),J=O,Ji="sentryReplaySession",Ay="replay_event",Zi="Unable to send Replay",My=3e5,Oy=9e5,Ny=5e3,Dy=5500,Py=6e4,Ly=5e3,$y=3,ha=15e4,gr=5e3,Fy=3e3,By=300,Qi=2e7,Hy=4999,Uy=15e3,ma=36e5;function jy(e,t){return e??t()}function Hr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}var ce;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ce||(ce={}));function Wy(e){return e.nodeType===e.ELEMENT_NODE}function Dn(e){const t=Hr([e,"optionalAccess",n=>n.host]);return Hr([t,"optionalAccess",n=>n.shadowRoot])===e}function Pn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function zy(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Gy(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ur(e){try{const t=e.rules||e.cssRules;return t?zy(Array.from(t,Ol).join("")):null}catch{return null}}function Ol(e){let t;if(Yy(e))try{t=Ur(e.styleSheet)||Gy(e)}catch{}else if(Vy(e)&&e.selectorText.includes(":"))return qy(e.cssText);return t||e.cssText}function qy(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Yy(e){return"styleSheet"in e}function Vy(e){return"selectorText"in e}class Nl{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Hr([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return jy(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Ky(){return new Nl}function ls({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Bn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function an(e){return e.toLowerCase()}function oi(e){return e.toUpperCase()}const ga="__rrweb_original__";function Xy(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=ga in i?i[ga]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function eo(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?an(t):null}function jr(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let Jy=1;const Zy=new RegExp("[^a-z0-9-_:]"),Hn=-2;function to(){return Jy++}function Qy(e){if(e instanceof HTMLFormElement)return"form";const t=an(e.tagName);return Zy.test(t)?"div":t}function eS(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Ht,_a;const tS=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,nS=/^(?:[a-z+]+:)?\/\//i,rS=/^www\..*/i,sS=/^(data:)([^,]*),(.*)/i;function Wr(e,t){return(e||"").replace(tS,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(nS.test(c)||rS.test(c))return`url(${u}${c}${u})`;if(sS.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${eS(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const iS=/^[^ \t\n\r\u000c]+/,oS=/^[, \t\n\r\u000c]+/;function aS(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(oS),!(n>=t.length);){let i=r(iS);if(i.slice(-1)===",")i=Gt(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Gt(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function Gt(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function cS(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function no(){const e=document.createElement("a");return e.href="",e.href}function Dl(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Gt(e,r):n==="srcset"?aS(e,r):n==="style"?Wr(r,no()):t==="object"&&n==="data"?Gt(e,r):typeof i=="function"?i(n,r,s):r)}function Pl(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function uS(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function lS(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function St(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:St(e.parentNode,t,n,r+1)}function qt(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(lS(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function cn(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=St(o,qt(r,s)),c<0)return!0;a=St(o,qt(t,n),c>=0?c:1/0)}else{if(a=St(o,qt(t,n)),a<0)return!1;c=St(o,qt(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function dS(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function fS(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function pS(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:_,maskInputFn:S,dataURLOptions:g={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:E,newlyAddedElement:M=!1}=t,C=hS(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ce.Document,childNodes:[],compatMode:e.compatMode}:{type:ce.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ce.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return gS(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:S,dataURLOptions:g,inlineImages:y,recordCanvas:b,keepIframeSrcFn:E,newlyAddedElement:M,rootId:C,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return mS(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:m,maskInputFn:S,rootId:C});case e.CDATA_SECTION_NODE:return{type:ce.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:ce.Comment,textContent:e.textContent||"",rootId:C};default:return!1}}function hS(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function mS(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,m=d==="SCRIPT"?!0:void 0,_=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||Hr([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(f=Ur(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}f=Wr(f,no())}m&&(f="SCRIPT_PLACEHOLDER");const S=cn(e,r,i,s,o,n);if(!p&&!m&&!_&&f&&S&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),_&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const g=ls({type:null,tagName:d,maskInputOptions:c});f=Bn({isMasked:cn(e,r,i,s,o,g),element:e,value:f,maskInputFn:u})}return{type:ce.Text,textContent:f||"",isStyle:p,rootId:l}}function gS(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:_,maskAllText:S,maskTextClass:g,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:E}=t,M=uS(e,r,s,i),C=Qy(e);let v={};const N=e.attributes.length;for(let T=0;T<N;T++){const x=e.attributes[T];x.name&&!Pl(C,x.name,x.value)&&(v[x.name]=Dl(n,C,an(x.name),x.value,e,c))}if(C==="link"&&o){const T=Array.from(n.styleSheets).find(B=>B.href===e.href);let x=null;T&&(x=Ur(T)),x&&(delete v.rel,delete v.href,v._cssText=Wr(x,T.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const T=Ur(e.sheet);T&&(v._cssText=Wr(T,no()))}if(C==="input"||C==="textarea"||C==="select"||C==="option"){const T=e,x=eo(T),B=jr(T,oi(C),x),Z=T.checked;if(x!=="submit"&&x!=="button"&&B){const oe=cn(T,g,b,y,E,ls({type:x,tagName:oi(C),maskInputOptions:a}));v.value=Bn({isMasked:oe,element:T,value:B,maskInputFn:u})}Z&&(v.checked=Z)}if(C==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),C==="canvas"&&f){if(e.__context==="2d")Xy(e)||(v.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const T=e.toDataURL(l.type,l.quality),x=document.createElement("canvas");x.width=e.width,x.height=e.height;const B=x.toDataURL(l.type,l.quality);T!==B&&(v.rr_dataURL=T)}}if(C==="img"&&d){Ht||(Ht=n.createElement("canvas"),_a=Ht.getContext("2d"));const T=e,x=T.crossOrigin;T.crossOrigin="anonymous";const B=()=>{T.removeEventListener("load",B);try{Ht.width=T.naturalWidth,Ht.height=T.naturalHeight,_a.drawImage(T,0,0),v.rr_dataURL=Ht.toDataURL(l.type,l.quality)}catch(Z){console.warn(`Cannot inline img src=${T.currentSrc}! Error: ${Z}`)}x?v.crossOrigin=x:T.removeAttribute("crossorigin")};T.complete&&T.naturalWidth!==0?B():T.addEventListener("load",B)}if((C==="audio"||C==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),M){const{width:T,height:x}=e.getBoundingClientRect();v={class:v.class,rr_width:`${T}px`,rr_height:`${x}px`}}C==="iframe"&&!p(v.src)&&(e.contentDocument||(v.rr_src=v.src),delete v.src);let V;try{customElements.get(C)&&(V=!0)}catch{}return{type:ce.Element,tagName:C,attributes:v,childNodes:[],isSVG:cS(e)||void 0,needBlock:M,rootId:_,isCustom:V}}function X(e){return e==null?"":e.toLowerCase()}function _S(e,t){if(t.comment&&e.type===ce.Comment)return!0;if(e.type===ce.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(X(e.attributes.name).match(/^msapplication-tile(image|color)$/)||X(e.attributes.name)==="application-name"||X(e.attributes.rel)==="icon"||X(e.attributes.rel)==="apple-touch-icon"||X(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&X(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(X(e.attributes.property).match(/^(og|twitter|fb):/)||X(e.attributes.name).match(/^(og|twitter):/)||X(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(X(e.attributes.name)==="robots"||X(e.attributes.name)==="googlebot"||X(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(X(e.attributes.name)==="author"||X(e.attributes.name)==="generator"||X(e.attributes.name)==="framework"||X(e.attributes.name)==="publisher"||X(e.attributes.name)==="progid"||X(e.attributes.property).match(/^article:/)||X(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(X(e.attributes.name)==="google-site-verification"||X(e.attributes.name)==="yandex-verification"||X(e.attributes.name)==="csrf-token"||X(e.attributes.name)==="p:domain_verify"||X(e.attributes.name)==="verify-v1"||X(e.attributes.name)==="verification"||X(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Yt(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b={},inlineImages:E=!1,recordCanvas:M=!1,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:N=5e3,onStylesheetLoad:V,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:B=!1}=t;let{preserveWhiteSpace:Z=!0}=t;const oe=pS(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,dataURLOptions:b,inlineImages:E,recordCanvas:M,keepIframeSrcFn:x,newlyAddedElement:B});if(!oe)return console.warn(e,"not serialized"),null;let he;r.hasNode(e)?he=r.getId(e):_S(oe,y)||!Z&&oe.type===ce.Text&&!oe.isStyle&&!oe.textContent.replace(/^\s+|\s+$/gm,"").length?he=Hn:he=to();const z=Object.assign(oe,{id:he});if(r.add(e,z),he===Hn)return null;C&&C(e);let ye=!f;if(z.type===ce.Element){ye=ye&&!z.needBlock,delete z.needBlock;const Q=e.shadowRoot;Q&&Pn(Q)&&(z.isShadowHost=!0)}if((z.type===ce.Document||z.type===ce.Element)&&ye){y.headWhitespace&&z.type===ce.Element&&z.tagName==="head"&&(Z=!1);const Q={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:E,recordCanvas:M,preserveWhiteSpace:Z,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:N,onStylesheetLoad:V,stylesheetLoadTimeout:T,keepIframeSrcFn:x};for(const pe of Array.from(e.childNodes)){const Se=Yt(pe,Q);Se&&z.childNodes.push(Se)}if(Wy(e)&&e.shadowRoot)for(const pe of Array.from(e.shadowRoot.childNodes)){const Se=Yt(pe,Q);Se&&(Pn(e.shadowRoot)&&(Se.isShadow=!0),z.childNodes.push(Se))}}return e.parentNode&&Dn(e.parentNode)&&Pn(e.parentNode)&&(z.isShadow=!0),z.type===ce.Element&&z.tagName==="iframe"&&dS(e,()=>{const Q=e.contentDocument;if(Q&&v){const pe=Yt(Q,{doc:Q,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:E,recordCanvas:M,preserveWhiteSpace:Z,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:N,onStylesheetLoad:V,stylesheetLoadTimeout:T,keepIframeSrcFn:x});pe&&v(e,pe)}},N),z.type===ce.Element&&z.tagName==="link"&&z.attributes.rel==="stylesheet"&&fS(e,()=>{if(V){const Q=Yt(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:E,recordCanvas:M,preserveWhiteSpace:Z,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:N,onStylesheetLoad:V,stylesheetLoadTimeout:T,keepIframeSrcFn:x});Q&&V(e,Q)}},T),z}function yS(e,t){const{mirror:n=new Nl,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:E,onSerialize:M,onIframeLoad:C,iframeLoadTimeout:v,onStylesheetLoad:N,stylesheetLoadTimeout:V,keepIframeSrcFn:T=()=>!1}=t||{};return Yt(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:y==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:y===!1?{}:y,dataURLOptions:b,inlineImages:f,recordCanvas:p,preserveWhiteSpace:E,onSerialize:M,onIframeLoad:C,iframeLoadTimeout:v,onStylesheetLoad:N,stylesheetLoadTimeout:V,keepIframeSrcFn:T,newlyAddedElement:!1})}function tt(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function _e(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Wt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let ya={map:{},getId(){return console.error(Wt),-1},getNode(){return console.error(Wt),null},removeNodeFromMap(){console.error(Wt)},has(){return console.error(Wt),!1},reset(){console.error(Wt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ya=new Proxy(ya,{get(e,t,n){return t==="map"&&console.error(Wt),Reflect.get(e,t,n)}}));function Un(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(wS(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=ds(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Ll(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){ds(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Ll(e,t,i||{},!0)}function ro(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let zr=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(zr=()=>new Date().getTime());function $l(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:tt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||tt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||tt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:tt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||tt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||tt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Fl(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Bl(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Hl(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Ae(e,t,n,r,s){if(!e)return!1;const i=Hl(e);if(!i)return!1;const o=qt(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=St(i,o);let c=-1;return a<0?!1:(r&&(c=St(i,qt(null,r))),a>-1&&c<0?!0:a<c)}function SS(e,t){return t.getId(e)!==-1}function As(e,t){return t.getId(e)===Hn}function Ul(e,t){if(Dn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Ul(e.parentNode,t):!0:!0}function ai(e){return!!e.changedTouches}function bS(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function jl(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Wl(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function ci(e){return!!tt([e,"optionalAccess",t=>t.shadowRoot])}class ES{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return jp(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function zl(e){let t=null;return tt([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function vS(e){let t=e,n;for(;n=zl(t);)t=n;return t}function TS(e){const t=e.ownerDocument;if(!t)return!1;const n=vS(e);return t.contains(n)}function Gl(e){const t=e.ownerDocument;return t?t.contains(e)||TS(e):!1}const Sa={};function so(e){const t=Sa[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Sa[e]=r.bind(window)}function IS(...e){return so("requestAnimationFrame")(...e)}function ds(...e){return so("setTimeout")(...e)}function wS(...e){return so("clearTimeout")(...e)}var D=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(D||{}),P=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(P||{}),me=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(me||{}),We=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(We||{});function kS(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function ba(e){return"__ln"in e}class RS{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=kS([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&ba(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&ba(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Ea=(e,t)=>`${e}@${t}`;class CS{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new RS,s=c=>{let u=c,l=Hn;for(;l===Hn;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!Gl(c))return;const u=Dn(c.parentNode)?this.mirror.getId(zl(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=Yt(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{jl(f,this.mirror)&&this.iframeManager.addIframe(f),Wl(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),ci(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)va(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!Ta(this.droppedSet,c)&&!va(this.removes,c,this.mirror)||Ta(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const p=l.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!As(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Ae(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:cn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Hl(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=eo(n),a=n.tagName;s=jr(n,a,o);const c=ls({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=cn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Bn({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Ae(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Pl(n.tagName,r)&&(i.attributes[r]=Dl(this.doc,an(n.tagName),an(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Ae(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Dn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Ae(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||As(n,this.mirror)||!SS(n,this.mirror)||(this.addedSet.has(n)?(ui(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Ul(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Ea(r,s)]?ui(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Dn(t.target)&&Pn(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(As(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Ea(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Ae(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),ci(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ui(e,t){e.delete(t),t.childNodes.forEach(n=>ui(e,n))}function va(e,t,n){return e.length===0?!1:ql(e,t,n)}function ql(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(i=>i.id===s)?!0:ql(e,r,n)}function Ta(e,t){return e.size===0?!1:Yl(e,t)}function Yl(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Yl(e,n):!1}let Ln;function xS(e){Ln=e}function AS(){Ln=void 0}const $=e=>Ln?(...n)=>{try{return e(...n)}catch(r){if(Ln&&Ln(r)===!0)return()=>{};throw r}}:e;function Pe(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const Vt=[];function tr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Vl(e,t){const n=new CS;Vt.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Pe([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r($(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function MS({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=Un($(d=>{const f=Date.now()-a;e(o.map(p=>(p.timeOffset-=f,p)),d),o=[],a=null}),i),u=$(Un($(d=>{const f=tr(d),{clientX:p,clientY:m}=ai(d)?d.changedTouches[0]:d;a||(a=zr()),o.push({x:p,y:m,id:r.getId(f),timeOffset:zr()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?P.Drag:d instanceof MouseEvent?P.MouseMove:P.TouchMove)}),s,{trailing:!1})),l=[_e("mousemove",u,n),_e("touchmove",u,n),_e("drag",u,n)];return $(()=>{l.forEach(d=>d())})}function OS({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>f=>{const p=tr(f);if(Ae(p,r,s,i,!0))return;let m=null,_=d;if("pointerType"in f){switch(f.pointerType){case"mouse":m=We.Mouse;break;case"touch":m=We.Touch;break;case"pen":m=We.Pen;break}m===We.Touch?me[d]===me.MouseDown?_="TouchStart":me[d]===me.MouseUp&&(_="TouchEnd"):We.Pen}else ai(f)&&(m=We.Touch);m!==null?(u=m,(_.startsWith("Touch")&&m===We.Touch||_.startsWith("Mouse")&&m===We.Mouse)&&(m=null)):me[d]===me.Click&&(m=u,u=null);const S=ai(f)?f.changedTouches[0]:f;if(!S)return;const g=n.getId(p),{clientX:y,clientY:b}=S;$(e)({type:me[_],id:g,x:y,y:b,...m!==null&&{pointerType:m}})};return Object.keys(me).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=an(d);const p=l(d);if(window.PointerEvent)switch(me[d]){case me.MouseDown:case me.MouseUp:f=f.replace("mouse","pointer");break;case me.TouchStart:case me.TouchEnd:return}c.push(_e(f,p,t))}),$(()=>{c.forEach(d=>d())})}function Kl({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=$(Un($(c=>{const u=tr(c);if(!u||Ae(u,r,s,i,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=$l(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return _e("scroll",a,t)}function NS({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=$(Un($(()=>{const i=Fl(),o=Bl();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return _e("resize",s,t)}const DS=["INPUT","TEXTAREA","SELECT"],Ia=new WeakMap;function PS({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:_}){function S(v){let N=tr(v);const V=v.isTrusted,T=N&&oi(N.tagName);if(T==="OPTION"&&(N=N.parentElement),!N||!T||DS.indexOf(T)<0||Ae(N,r,s,i,!0))return;const x=N;if(x.classList.contains(o)||a&&x.matches(a))return;const B=eo(N);let Z=jr(x,T,B),oe=!1;const he=ls({maskInputOptions:c,tagName:T,type:B}),z=cn(N,f,m,p,_,he);(B==="radio"||B==="checkbox")&&(oe=N.checked),Z=Bn({isMasked:z,element:N,value:Z,maskInputFn:u}),g(N,d?{text:Z,isChecked:oe,userTriggered:V}:{text:Z,isChecked:oe});const ye=N.name;B==="radio"&&ye&&oe&&t.querySelectorAll(`input[type="radio"][name="${ye}"]`).forEach(Q=>{if(Q!==N){const pe=Bn({isMasked:z,element:Q,value:jr(Q,T,B),maskInputFn:u});g(Q,d?{text:pe,isChecked:!oe,userTriggered:!1}:{text:pe,isChecked:!oe})}})}function g(v,N){const V=Ia.get(v);if(!V||V.text!==N.text||V.isChecked!==N.isChecked){Ia.set(v,N);const T=n.getId(v);$(e)({...N,id:T})}}const b=(l.input==="last"?["change"]:["input","change"]).map(v=>_e(v,$(S),t)),E=t.defaultView;if(!E)return()=>{b.forEach(v=>v())};const M=E.Object.getOwnPropertyDescriptor(E.HTMLInputElement.prototype,"value"),C=[[E.HTMLInputElement.prototype,"value"],[E.HTMLInputElement.prototype,"checked"],[E.HTMLSelectElement.prototype,"value"],[E.HTMLTextAreaElement.prototype,"value"],[E.HTMLSelectElement.prototype,"selectedIndex"],[E.HTMLOptionElement.prototype,"selected"]];return M&&M.set&&b.push(...C.map(v=>Ll(v[0],v[1],{set(){$(S)({target:this,isTrusted:!1})}},!1,E))),$(()=>{b.forEach(v=>v())})}function Gr(e){const t=[];function n(r,s){if(_r("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||_r("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||_r("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||_r("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function nt(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function LS({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:$((l,d,f)=>{const[p,m]=f,{id:_,styleId:S}=nt(d,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,adds:[{rule:p,index:m}]}),l.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:$((l,d,f)=>{const[p]=f,{id:m,styleId:_}=nt(d,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,removes:[{index:p}]}),l.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:$((l,d,f)=>{const[p]=f,{id:m,styleId:_}=nt(d,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replace:p}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:$((l,d,f)=>{const[p]=f,{id:m,styleId:_}=nt(d,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replaceSync:p}),l.apply(d,f)})}));const c={};yr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(yr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),yr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),yr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:$((f,p,m)=>{const[_,S]=m,{id:g,styleId:y}=nt(p.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:_,index:[...Gr(p),S||0]}]}),f.apply(p,m)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:$((f,p,m)=>{const[_]=m,{id:S,styleId:g}=nt(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||g&&g!==-1)&&e({id:S,styleId:g,removes:[{index:[...Gr(p),_]}]}),f.apply(p,m)})})}),$(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Xl({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Pe([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Pe([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=Pe([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Pe([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Pe([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Pe([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),$(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function $S({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:$((a,c,u)=>{const[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);const{id:p,styleId:m}=nt(Pe([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:l,value:d,priority:f},index:Gr(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:$((a,c,u)=>{const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:f}=nt(Pe([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:Gr(c.parentRule)}),a.apply(c,u)})}),$(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function FS({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=$(u=>Un($(l=>{const d=tr(l);if(!d||Ae(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:m,playbackRate:_}=d;e({type:u,id:s.getId(d),currentTime:f,volume:p,muted:m,playbackRate:_})}),i.media||500)),c=[_e("play",a(0),o),_e("pause",a(1),o),_e("seeked",a(2),o),_e("volumechange",a(3),o),_e("ratechange",a(4),o)];return $(()=>{c.forEach(u=>u())})}function BS({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=ro(t.fonts,"add",function(a){return function(c){return ds($(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),$(()=>{r.forEach(a=>a())})}function HS(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=$(()=>{const u=t.getSelection();if(!u||a&&Pe([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const p=u.getRangeAt(f),{startContainer:m,startOffset:_,endContainer:S,endOffset:g}=p;Ae(m,r,s,i,!0)||Ae(S,r,s,i,!0)||l.push({start:n.getId(m),startOffset:_,end:n.getId(S),endOffset:g})}o({ranges:l})});return c(),_e("selectionchange",c)}function US({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:ro(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function jS(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=Vl(e,e.doc),s=MS(e),i=OS(e),o=Kl(e),a=NS(e,{win:n}),c=PS(e),u=FS(e),l=LS(e,{win:n}),d=Xl(e,e.doc),f=$S(e,{win:n}),p=e.collectFonts?BS(e):()=>{},m=HS(e),_=US(e),S=[];for(const g of e.plugins)S.push(g.observer(g.callback,n,g.options));return $(()=>{Vt.forEach(g=>g.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),f(),p(),m(),_(),S.forEach(g=>g())})}function _r(e){return typeof window[e]<"u"}function yr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class li{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function wa(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}class WS{constructor(){this.crossOriginIframeMirror=new li(to),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class zS{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new li(to),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new li(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),wa([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case D.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:D.IncrementalSnapshot,data:{source:P.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case D.Meta:case D.Load:case D.DomContentLoaded:return!1;case D.Plugin:return n;case D.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case D.IncrementalSnapshot:switch(n.data.source){case P.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case P.Drag:case P.TouchMove:case P.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case P.ViewportResize:return!1;case P.MediaInteraction:case P.MouseInteraction:case P.Scroll:case P.CanvasMutation:case P.Input:return this.replaceIds(n.data,t,["id"]),n;case P.StyleSheetRule:case P.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case P.Font:return n;case P.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case P.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),wa([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ce.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class GS{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class qS{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Pn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=Vl({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Kl({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ds(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Xl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(ro(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&Gl(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class ka{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class YS{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new ES,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Ol(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class VS{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){IS(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let ne,qr;const Ce=Ky();function at(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:_,maskInputOptions:S,slimDOMOptions:g,maskAttributeFn:y,maskInputFn:b,maskTextFn:E,maxCanvasSize:M=null,packFn:C,sampling:v={},dataURLOptions:N={},mousemoveWait:V,recordCanvas:T=!1,recordCrossOriginIframes:x=!1,recordAfter:B=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Z=!1,collectFonts:oe=!1,inlineImages:he=!1,plugins:z,keepIframeSrcFn:ye=()=>!1,ignoreCSSAttributes:Q=new Set([]),errorHandler:pe,onMutation:Se,getCanvasManager:Tn}=e;xS(pe);const Qe=x?window.parent===window:!0;let Oe=!1;if(!Qe)try{window.parent.document&&(Oe=!1)}catch{Oe=!0}if(Qe&&!t)throw new Error("emit function is required");V!==void 0&&v.mousemove===void 0&&(v.mousemove=V),Ce.reset();const et=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},ft=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};bS();let In,wn=0;const ir=j=>{for(const Re of z||[])Re.eventProcessor&&(j=Re.eventProcessor(j));return C&&!Oe&&(j=C(j)),j};ne=(j,Re)=>{const H=j;if(H.timestamp=zr(),Ir([Vt,"access",te=>te[0],"optionalAccess",te=>te.isFrozen,"call",te=>te()])&&H.type!==D.FullSnapshot&&!(H.type===D.IncrementalSnapshot&&H.data.source===P.Mutation)&&Vt.forEach(te=>te.unfreeze()),Qe)Ir([t,"optionalCall",te=>te(ir(H),Re)]);else if(Oe){const te={type:"rrweb",event:ir(H),origin:window.location.origin,isCheckout:Re};window.parent.postMessage(te,"*")}if(H.type===D.FullSnapshot)In=H,wn=0;else if(H.type===D.IncrementalSnapshot){if(H.data.source===P.Mutation&&H.data.isAttachIframe)return;wn++;const te=r&&wn>=r,W=n&&In&&H.timestamp-In.timestamp>n;(te||W)&&bs(!0)}};const $t=j=>{ne({type:D.IncrementalSnapshot,data:{source:P.Mutation,...j}})},or=j=>ne({type:D.IncrementalSnapshot,data:{source:P.Scroll,...j}}),Ss=j=>ne({type:D.IncrementalSnapshot,data:{source:P.CanvasMutation,...j}}),k=j=>ne({type:D.IncrementalSnapshot,data:{source:P.AdoptedStyleSheet,...j}}),ke=new YS({mutationCb:$t,adoptedStyleSheetCb:k}),Ie=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new WS:new zS({mirror:Ce,mutationCb:$t,stylesheetManager:ke,recordCrossOriginIframes:x,wrappedEmit:ne});for(const j of z||[])j.getMirror&&j.getMirror({nodeMirror:Ce,crossOriginIframeMirror:Ie.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ie.crossOriginIframeStyleMirror});const Ft=new VS,Eo=XS(Tn,{mirror:Ce,win:window,mutationCb:j=>ne({type:D.IncrementalSnapshot,data:{source:P.CanvasMutation,...j}}),recordCanvas:T,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:M,sampling:v.canvas,dataURLOptions:N,errorHandler:pe}),ar=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new GS:new qS({mutationCb:$t,scrollCb:or,bypassOptions:{onMutation:Se,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:et,dataURLOptions:N,maskAttributeFn:y,maskTextFn:E,maskInputFn:b,recordCanvas:T,inlineImages:he,sampling:v,slimDOMOptions:ft,iframeManager:Ie,stylesheetManager:ke,canvasManager:Eo,keepIframeSrcFn:ye,processedNodeManager:Ft},mirror:Ce}),bs=(j=!1)=>{ne({type:D.Meta,data:{href:window.location.href,width:Bl(),height:Fl()}},j),ke.reset(),ar.init(),Vt.forEach(H=>H.lock());const Re=yS(document,{mirror:Ce,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:et,maskAttributeFn:y,maskInputFn:b,maskTextFn:E,slimDOM:ft,dataURLOptions:N,recordCanvas:T,inlineImages:he,onSerialize:H=>{jl(H,Ce)&&Ie.addIframe(H),Wl(H,Ce)&&ke.trackLinkElement(H),ci(H)&&ar.addShadowRoot(H.shadowRoot,document)},onIframeLoad:(H,te)=>{Ie.attachIframe(H,te),ar.observeAttachShadow(H)},onStylesheetLoad:(H,te)=>{ke.attachLinkElement(H,te)},keepIframeSrcFn:ye});if(!Re)return console.warn("Failed to snapshot the document");ne({type:D.FullSnapshot,data:{node:Re,initialOffset:$l(window)}}),Vt.forEach(H=>H.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ke.adoptStyleSheets(document.adoptedStyleSheets,Ce.getId(document))};qr=bs;try{const j=[],Re=te=>$(jS)({onMutation:Se,mutationCb:$t,mousemoveCb:(W,pt)=>ne({type:D.IncrementalSnapshot,data:{source:pt,positions:W}}),mouseInteractionCb:W=>ne({type:D.IncrementalSnapshot,data:{source:P.MouseInteraction,...W}}),scrollCb:or,viewportResizeCb:W=>ne({type:D.IncrementalSnapshot,data:{source:P.ViewportResize,...W}}),inputCb:W=>ne({type:D.IncrementalSnapshot,data:{source:P.Input,...W}}),mediaInteractionCb:W=>ne({type:D.IncrementalSnapshot,data:{source:P.MediaInteraction,...W}}),styleSheetRuleCb:W=>ne({type:D.IncrementalSnapshot,data:{source:P.StyleSheetRule,...W}}),styleDeclarationCb:W=>ne({type:D.IncrementalSnapshot,data:{source:P.StyleDeclaration,...W}}),canvasMutationCb:Ss,fontCb:W=>ne({type:D.IncrementalSnapshot,data:{source:P.Font,...W}}),selectionCb:W=>{ne({type:D.IncrementalSnapshot,data:{source:P.Selection,...W}})},customElementCb:W=>{ne({type:D.IncrementalSnapshot,data:{source:P.CustomElement,...W}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:et,inlineStylesheet:m,sampling:v,recordCanvas:T,inlineImages:he,userTriggeredOnInput:Z,collectFonts:oe,doc:te,maskAttributeFn:y,maskInputFn:b,maskTextFn:E,keepIframeSrcFn:ye,blockSelector:i,unblockSelector:o,slimDOMOptions:ft,dataURLOptions:N,mirror:Ce,iframeManager:Ie,stylesheetManager:ke,shadowDomManager:ar,processedNodeManager:Ft,canvasManager:Eo,ignoreCSSAttributes:Q,plugins:Ir([z,"optionalAccess",W=>W.filter,"call",W=>W(pt=>pt.observer),"optionalAccess",W=>W.map,"call",W=>W(pt=>({observer:pt.observer,options:pt.options,callback:wf=>ne({type:D.Plugin,data:{plugin:pt.name,payload:wf}})}))])||[]},{});Ie.addLoadListener(te=>{try{j.push(Re(te.contentDocument))}catch(W){console.warn(W)}});const H=()=>{bs(),j.push(Re(document))};return document.readyState==="interactive"||document.readyState==="complete"?H():(j.push(_e("DOMContentLoaded",()=>{ne({type:D.DomContentLoaded,data:{}}),B==="DOMContentLoaded"&&H()})),j.push(_e("load",()=>{ne({type:D.Load,data:{}}),B==="load"&&H()},window))),()=>{j.forEach(te=>te()),Ft.destroy(),qr=void 0,AS()}}catch(j){console.warn(j)}}function KS(e){if(!qr)throw new Error("please take full snapshot after start recording");qr(e)}at.mirror=Ce;at.takeFullSnapshot=KS;function XS(e,t){try{return e?e(t):new ka}catch{return console.warn("Unable to initialize CanvasManager"),new ka}}const JS=3,ZS=5;function io(e){return e>9999999999?e:e*1e3}function Ms(e){return e>9999999999?e/1e3:e}function nr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:D.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:xe(t,10,1e3)}}),t.category==="console")))}const QS="button,a";function Jl(e){return e.closest(QS)||e}function Zl(e){const t=Ql(e);return!t||!(t instanceof Element)?t:Jl(t)}function Ql(e){return eb(e)?e.target:e}function eb(e){return typeof e=="object"&&!!e&&"target"in e}let rt;function tb(e){return rt||(rt=[],nb()),rt.push(e),()=>{const t=rt?rt.indexOf(e):-1;t>-1&&rt.splice(t,1)}}function nb(){le(J,"open",function(e){return function(...t){if(rt)try{rt.forEach(n=>n())}catch{}return e.apply(J,t)}})}function rb(e,t,n){e.handleClick(t,n)}class sb{constructor(t,n,r=nr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=tb(()=>{this._lastMutation=Ra()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(ob(n,this._ignoreSelector)||!ab(t))return;const r={timestamp:Ms(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ms(t)}registerScroll(t=Date.now()){this._lastScroll=Ms(t)}registerClick(t){const n=Jl(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Ra();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:J.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:J.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const ib=["A","BUTTON","INPUT"];function ob(e,t){return!!(!ib.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function ab(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Ra(){return Date.now()/1e3}function cb(e,t){try{if(!ub(t))return;const{source:n}=t.data;if(n===P.Mutation&&e.registerMutation(t.timestamp),n===P.Scroll&&e.registerScroll(t.timestamp),lb(t)){const{type:r,id:s}=t.data,i=at.mirror.getNode(s);i instanceof HTMLElement&&r===me.Click&&e.registerClick(i)}}catch{}}function ub(e){return e.type===JS}function lb(e){return e.data.source===P.MouseInteraction}function $e(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Yr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Yr||(Yr={}));const db=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function fb(e){const t={};for(const n in e)if(db.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const pb=e=>t=>{if(!e.isEnabled())return;const n=hb(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&rb(e.clickDetector,n,Zl(t.event)),nr(e,n)};function ed(e,t){const n=at.mirror.getId(e),r=n&&at.mirror.getNode(n),s=r&&at.mirror.getMeta(r),i=s&&gb(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Yr.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:fb(i.attributes)}}:{}}}function hb(e){const{target:t,message:n}=mb(e);return $e({category:`ui.${e.name}`,...ed(t,n)})}function mb(e){const t=e.name==="click";let n,r=null;try{r=t?Zl(e.event):Ql(e.event),n=ut(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function gb(e){return e.type===Yr.Element}function _b(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=yb(t);n&&nr(e,n)}function yb(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||Sb(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=ut(o,{maxStringLength:200})||"<unknown>",l=ed(o,u);return $e({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function Sb(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Ca={resource:Ib,paint:vb,navigation:Tb};function bb(e){return e.map(Eb).filter(Boolean)}function Eb(e){return Ca[e.entryType]?Ca[e.entryType](e):null}function un(e){return((fe||J.performance.timeOrigin)+e)/1e3}function vb(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=un(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Tb(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:m,type:_}=e;return s===0?null:{type:`${t}.${_}`,start:un(p),end:un(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function Ib(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:un(i),end:un(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function wb(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,i=un(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?at.mirror.getId(r):void 0}}}function kb(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(dt(s,n))}),r.push(Gu(({metric:s})=>{e.replayPerformanceEntries.push(wb(s))})),()=>{r.forEach(s=>s())}}const K=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Rb='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Cb(){const e=new Blob([Rb]);return URL.createObjectURL(e)}function ge(e,t){K&&(h.info(e),t&&td(e))}function Qt(e,t){K&&(h.info(e),t&&setTimeout(()=>{td(e)},0))}function td(e){Xe({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class oo extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Qi}.`)}}class nd{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Qi)throw new oo;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?io(t):null}}class xb{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ge("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){K&&h.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Ab{constructor(t){this._worker=new xb(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=io(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Qi?Promise.reject(new oo):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{K&&h.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Mb{constructor(t){this._fallback=new nd,this._compression=new Ab(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ge("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){K&&h.warn("[Replay] Failed to add events when switching buffers.",s)}}}function Ob({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Nb(t);if(n)return n}return ge("[Replay] Using simple buffer"),new nd}function Nb(e){try{const t=e||Db();if(!t)return;ge(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Mb(n)}catch{ge("[Replay] Failed to create compression worker")}}function Db(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Cb():""}function ao(){try{return"sessionStorage"in J&&!!J.sessionStorage}catch{return!1}}function Pb(e){Lb(),e.session=void 0}function Lb(){if(ao())try{J.sessionStorage.removeItem(Ji)}catch{}}function rd(e){return e===void 0?!1:Math.random()<e}function sd(e){const t=Date.now(),n=e.id||q(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function co(e){if(ao())try{J.sessionStorage.setItem(Ji,JSON.stringify(e))}catch{}}function $b(e,t){return rd(e)?"session":t?"buffer":!1}function xa({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=$b(e,t),i=sd({sampled:s,previousSessionId:r});return n&&co(i),i}function Fb(e){if(!ao())return null;try{const t=J.sessionStorage.getItem(Ji);if(!t)return null;const n=JSON.parse(t);return Qt("[Replay] Loading existing session",e),sd(n)}catch{return null}}function di(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function id(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return di(e.started,t,r)||di(e.lastActivity,n,r)}function od(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!id(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Os({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&Fb(e);return i?od(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Qt("[Replay] Session in sessionStorage is expired, creating new one..."),xa(s,{previousSessionId:i.id})):i:(Qt("[Replay] Creating new session",e),xa(s,{previousSessionId:r}))}function Bb(e){return e.type===D.Custom}function uo(e,t,n){return cd(e,t)?(ad(e,t,n),!0):!1}function Hb(e,t,n){return cd(e,t)?ad(e,t,n):Promise.resolve(null)}async function ad(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=Ub(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof oo?"addEventSizeExceeded":"addEvent";K&&h.error(r),await e.stop({reason:s});const i=A();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function cd(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=io(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ge(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function Ub(e,t){try{if(typeof t=="function"&&Bb(e))return t(e)}catch(n){return K&&h.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function lo(e){return!e.type}function fi(e){return e.type==="transaction"}function jb(e){return e.type==="replay_event"}function Aa(e){return e.type==="feedback"}function ud(e){const t=Gb();return(n,r)=>{if(!e.isEnabled()||!lo(n)&&!fi(n))return;const s=r&&r.statusCode;if(!(t&&(!s||s<200||s>=300))){if(fi(n)){Wb(e,n);return}zb(e,n)}}}function Wb(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function zb(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function Gb(){const e=A();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function qb(e){return t=>{!e.isEnabled()||!lo(t)||Yb(e,t)}}function Yb(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=$e({category:"replay.hydrate-error"});nr(e,r)}}function Vb(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Kb(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:D.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Xb(e,t){return e.recordingMode!=="buffer"||t.message===Zi||!t.exception||t.type?!1:rd(e.getOptions().errorSampleRate)}function Jb(e,t=!1){const n=t?ud(e):void 0;return Object.assign((r,s)=>e.isEnabled()?jb(r)?(delete r.breadcrumbs,r):!lo(r)&&!fi(r)&&!Aa(r)||!e.checkAndHandleExpiredSession()?r:Aa(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),Kb(e,r),r):Vb(r,s)&&!e.getOptions()._experiments.captureExceptions?(K&&h.log("[Replay] Ignoring error from rrweb internals",r),null):((Xb(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function fs(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:D.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function Zb(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Qb(e){return t=>{if(!e.isEnabled())return;const n=Zb(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(fs(e,[n]),!1)))}}function eE(e,t){return K&&e.getOptions()._experiments.traceInternals?!1:wu(t,A())}function ps(e,t){e.isEnabled()&&t!==null&&(eE(e,t.name)||e.addUpdate(()=>(fs(e,[t]),!0)))}function tE(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function nE(e){return t=>{if(!e.isEnabled())return;const n=tE(t);ps(e,n)}}function rE(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[qe];if(!t||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function sE(e){return t=>{if(!e.isEnabled())return;const n=rE(t);ps(e,n)}}function hs(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=pd(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ld(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function dd(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[pd(e)];if(!e)return[void 0]}catch{return K&&h.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return K&&h.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Vr(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function fd(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:de({method:i,statusCode:o,request:a,response:c})}}function jn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function ct(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=iE(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function pi(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function pd(e){return new URLSearchParams(e).toString()}function iE(e){if(!e||typeof e!="string")return{body:e};const t=e.length>ha,n=oE(e);if(t){const r=e.slice(0,ha);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function oE(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Kr(e,t){const n=aE(e);return hn(n,t)}function aE(e,t=J.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(J.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function cE(e,t,n){try{const r=await lE(e,t,n),s=fd("resource.fetch",r);ps(n.replay,s)}catch(r){K&&h.error("[Replay] Failed to capture fetch breadcrumb",r)}}function uE(e,t,n){const{input:r,response:s}=t,i=r?hd(r):void 0,o=hs(i,n.textEncoder),a=s?ld(s.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function lE(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=Kr(o,n.networkDetailAllowUrls)&&!Kr(o,n.networkDetailDenyUrls),f=d?dE(n,t.input,u):jn(u),p=await fE(d,n,t.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:p}}function dE({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?mE(n,t):{};if(!e)return ct(s,r,void 0);const i=hd(n),[o,a]=dd(i),c=ct(s,r,o);return a?Vr(c,a):c}async function fE(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,i){if(!e&&i!==void 0)return jn(i);const o=s?md(s.headers,r):{};if(!s||!t&&i!==void 0)return ct(o,i,void 0);const[a,c]=await hE(s),u=pE(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:o});return c?Vr(u,c):u}function pE(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=e&&e.length&&r===void 0?hs(e,n):r;return s?t?ct(i,o,e):ct(i,o,void 0):jn(o)}catch(o){return K&&h.warn("[Replay] Failed to serialize response body",o),ct(i,r,void 0)}}async function hE(e){const t=gE(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await _E(t)]}catch(n){return K&&h.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function hd(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function md(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function mE(e,t){return e.length===1&&typeof e[0]!="string"?Ma(e[0],t):e.length===2?Ma(e[1],t):{}}function Ma(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?md(n,t):Array.isArray(n)?{}:pi(n,t):{}}function gE(e){try{return e.clone()}catch(t){K&&h.warn("[Replay] Failed to clone response body",t)}}function _E(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);yE(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function yE(e){return await e.text()}async function SE(e,t,n){try{const r=EE(e,t,n),s=fd("resource.xhr",r);ps(n.replay,s)}catch(r){K&&h.error("[Replay] Failed to capture xhr breadcrumb",r)}}function bE(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const i=hs(s,n.textEncoder),o=r.getResponseHeader("content-length")?ld(r.getResponseHeader("content-length")):wE(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function EE(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!Kr(c,n.networkDetailAllowUrls)||Kr(c,n.networkDetailDenyUrls)){const C=jn(d),v=jn(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:C,response:v}}const p=a[qe],m=p?pi(p.request_headers,n.networkRequestHeaders):{},_=pi(vE(a),n.networkResponseHeaders),[S,g]=n.networkCaptureBodies?dd(o):[void 0],[y,b]=n.networkCaptureBodies?TE(a):[void 0],E=ct(m,d,S),M=ct(_,f,y);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:g?Vr(E,g):E,response:b?Vr(M,b):M}}function vE(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function TE(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return IE(e.response,e.responseType)}catch(n){t.push(n)}return K&&h.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function IE(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return K&&h.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return K&&h.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function wE(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return hs(r,n)}catch{return}}function kE(e){const t=A();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>RE(c,u,l)):(Jr(nE(e)),Zr(sE(e)))}catch{}}function RE(e,t,n){if(t.data)try{CE(t)&&AE(n)&&(bE(t,n,e),SE(t,n,e)),xE(t)&&ME(n)&&(uE(t,n,e),cE(t,n,e))}catch{K&&h.warn("Error when enriching network breadcrumb")}}function CE(e){return e.category==="xhr"}function xE(e){return e.category==="fetch"}function AE(e){return e&&e.xhr}function ME(e){return e&&e.response}let Oa=null;function OE(e){return!!e.category}const NE=e=>t=>{if(!e.isEnabled())return;const n=DE(t);n&&nr(e,n)};function DE(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return Oa===t||!t||(Oa=t,!OE(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?PE(t):$e(t)}function PE(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return $e(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>gr?(n=!0,`${s.slice(0,gr)}`):s;if(typeof s=="object")try{const i=xe(s,7);return JSON.stringify(i).length>gr?(n=!0,`${JSON.stringify(i,null,2).slice(0,gr)}`):i}catch{}return s});return $e({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function LE(e){const t=ae(),n=A();t.addScopeListener(NE(e)),Ac(pb(e)),Gn(Qb(e)),kE(e);const r=Jb(e,!Na(n));n&&n.addEventProcessor?n.addEventProcessor(r):Su(r),Na(n)&&(n.on("beforeSendEvent",qb(e)),n.on("afterSendEvent",ud(e)),n.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{e.lastTransaction=s}),n.on("finishTransaction",s=>{e.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function Na(e){return!!(e&&e.on)}async function $E(e){try{return Promise.all(fs(e,[FE(J.performance.memory)]))}catch{return[]}}function FE(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function BE(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),o&&i===void 0&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=u,l}function HE(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){K&&h.warn("[Replay] Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&cb(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!uo(e,n,s))return!0;if(!s)return!1;if(jE(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(ge(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&co(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function UE(e){const t=e.getOptions();return{type:D.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function jE(e,t){!t||!e.session||e.session.segmentId!==0||uo(e,UE(e),!1)}function WE(e,t,n,r){return Je(zc(e,ki(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function zE({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function GE({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit&&e.emit("preprocessEvent",r,i);const o=await Ai(e.getOptions(),r,i,t,e,je());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function qE({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=zE({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=A(),f=ae(),p=d&&d.getTransport(),m=d&&d.getDsn();if(!d||!p||!m||!i.sampled)return;const _={type:Ay,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},S=await GE({scope:f,client:d,replayId:t,event:_});if(!S){d.recordDroppedEvent("event_processor","replay",_),ge("An event processor returned `null`, will not send event.");return}delete S.sdkProcessingMetadata;const g=WE(S,o,m,d.getOptions().tunnel);let y;try{y=await p.send(g)}catch(E){const M=new Error(Zi);try{M.cause=E}catch{}throw M}if(!y)return y;if(typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300))throw new gd(y.statusCode);const b=Yc({},y);if(qc(b,"replay"))throw new _d(b);return y}class gd extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class _d extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function yd(e,t={count:0,interval:Ly}){const{recordingData:n,options:r}=e;if(n.length)try{return await qE(e),!0}catch(s){if(s instanceof gd||s instanceof _d)throw s;if(Zc("Replays",{_retryCount:t.count}),K&&r._experiments&&r._experiments.captureExceptions&&gn(s),t.count>=$y){const i=new Error(`${Zi} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{setTimeout(async()=>{try{await yd(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const Sd="__THROTTLED",YE="__SKIPPED";function VE(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const l=o;return o=!0,l?YE:Sd}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class st{constructor({options:t,recordingOptions:n}){st.prototype.__init.call(this),st.prototype.__init2.call(this),st.prototype.__init3.call(this),st.prototype.__init4.call(this),st.prototype.__init5.call(this),st.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:My,sessionIdleExpire:Oy},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=BE(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=VE((o,a)=>Hb(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(Fy,r),timeout:r,scrollTimeout:By,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new sb(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Qt(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Qt("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const t=Os({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Qt("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=Os({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=at({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Py},emit:HE(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ge(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Pb(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ge("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ge("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();ge("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&di(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${J.location.pathname}${J.location.hash}${J.location.search}`,n=`${J.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Sd){const s=$e({category:"replay.throttled"});this.addUpdate(()=>!uo(this,{type:ZS,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||ae().getTransaction(),r=(t&&U(t).data||{})[se];if(!(!t||!r||!["route","custom"].includes(r)))return U(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Ob({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){K&&h.error("[Replay]",t),K&&this._options._experiments&&this._options._experiments.captureExceptions&&gn(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Os({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return od(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{J.document.addEventListener("visibilitychange",this._handleVisibilityChange),J.addEventListener("blur",this._handleWindowBlur),J.addEventListener("focus",this._handleWindowFocus),J.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(LE(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=kb(this)}_removeListeners(){try{J.document.removeEventListener("visibilitychange",this._handleVisibilityChange),J.removeEventListener("blur",this._handleWindowBlur),J.removeEventListener("focus",this._handleWindowFocus),J.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{J.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=$e({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=$e({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{_b(this,t)}}_doChangeToBackgroundTasks(t){!this.session||id(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ge("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:D.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=bb(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(fs(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){K&&h.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await $E(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await yd({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=A();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){K&&h.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){ge(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&ge("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){K&&h.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&co(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=$e({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Cn(e,t,n,r){const s=typeof r=="string"?r.split(","):[],i=[...e,...s,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),lt(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function KE({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=Cn(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=Cn(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,blockSelector:Cn(n,[".sentry-block","[data-sentry-block]",...l],i,o),unblockSelector:Cn(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Cn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(p.blockClass=i),a instanceof RegExp&&(p.maskTextClass=a),p}function XE({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Da='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',JE=["content-length","content-type","accept"];let Pa=!1;const ZE=e=>new rr(e);class rr{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Ny,flushMaxDelay:n=Dy,minReplayDuration:r=Hy,maxReplayDuration:s=ma,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:m=750,mutationLimit:_=1e4,slowClickTimeout:S=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:b=[],networkCaptureBodies:E=!0,networkRequestHeaders:M=[],networkResponseHeaders:C=[],mask:v=[],maskAttributes:N=["title","placeholder"],unmask:V=[],block:T=[],unblock:x=[],ignore:B=[],maskFn:Z,beforeAddRecordingEvent:oe,beforeErrorSampling:he,blockClass:z,blockSelector:ye,maskInputOptions:Q,maskTextClass:pe,maskTextSelector:Se,ignoreClass:Tn}={}){this.name=rr.id;const Qe=KE({mask:v,unmask:V,block:T,unblock:x,ignore:B,blockClass:z,blockSelector:ye,maskTextClass:pe,maskTextSelector:Se,ignoreClass:Tn});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...Q||{},password:!0},maskTextFn:Z,maskInputFn:Z,maskAttributeFn:(Oe,et,ft)=>XE({maskAttributes:N,maskAllText:d,privacyOptions:Qe,key:Oe,value:et,el:ft}),...Qe,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Oe=>{try{Oe.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Uy),maxReplayDuration:Math.min(s,ma),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:_,slowClickTimeout:S,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:b,networkCaptureBodies:E,networkRequestHeaders:La(M),networkResponseHeaders:La(C),beforeAddRecordingEvent:oe,beforeErrorSampling:he,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Da}`:Da),this._isInitialized&&Gs())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Pa}set _isInitialized(t){Pa=t}setupOnce(){Gs()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const t=QE(this._initialOptions);this._replay=new st({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=A().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}rr.__initStatic();function QE(e){const t=A(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...de(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&lt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(lt(()=>{console.warn("SDK client is not available.")}),r)}function La(e){return[...JE,...e.map(t=>t.toLowerCase())]}function ev(){const e=A();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}var $a;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})($a||($a={}));function tv(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function hi(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:hi(e.parentNode,t,n,r+1)}function Fa(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(tv(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const zt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ba={map:{},getId(){return console.error(zt),-1},getNode(){return console.error(zt),null},removeNodeFromMap(){console.error(zt)},has(){return console.error(zt),!1},reset(){console.error(zt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ba=new Proxy(Ba,{get(e,t,n){return t==="map"&&console.error(zt),Reflect.get(e,t,n)}}));function fo(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){Ed(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>fo(e,t,i||{},!0)}function po(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function nv(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ms(e,t,n,r,s){if(!e)return!1;const i=nv(e);if(!i)return!1;const o=Fa(t,n),a=hi(i,o);let c=-1;return a<0?!1:(r&&(c=hi(i,Fa(null,r))),a>-1&&c<0?!0:a<c)}const Ha={};function bd(e){const t=Ha[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Ha[e]=r.bind(window)}function ht(...e){return bd("requestAnimationFrame")(...e)}function Ed(...e){return bd("setTimeout")(...e)}var ln=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(ln||{});let wr;function rv(e){wr=e}const Ua=e=>wr?(...n)=>{try{return e(...n)}catch(r){if(wr&&wr(r)===!0)return()=>{};throw r}}:e;var Kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sr=0;Sr<Kt.length;Sr++)sv[Kt.charCodeAt(Sr)]=Sr;var iv=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=Kt[t[n]>>2],s+=Kt[(t[n]&3)<<4|t[n+1]>>4],s+=Kt[(t[n+1]&15)<<2|t[n+2]>>6],s+=Kt[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const ja=new Map;function ov(e,t){let n=ja.get(e);return n||(n=new Map,ja.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const vd=(e,t,n)=>{if(!e||!(Id(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=ov(n,r);let i=s.indexOf(e);return i===-1&&(i=s.length,s.push(e)),i};function kr(e,t,n){if(e instanceof Array)return e.map(r=>kr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=iv(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[kr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[kr(e.data,t,n),e.width,e.height]};if(Id(e,t)||typeof e=="object"){const r=e.constructor.name,s=vd(e,t,n);return{rr_type:r,index:s}}}}return e}const Td=(e,t,n)=>e.map(r=>kr(r,t,n)),Id=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function av(e,t,n,r,s){const i=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of o)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=po(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return ms(this.canvas,n,r,s,!0)||Ed(()=>{const d=Td(l,t,this);e(this.canvas,{type:ln["2D"],property:a,args:d})},0),u.apply(this,l)}});i.push(c)}catch{const u=fo(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:ln["2D"],property:a,args:[l],setter:!0})}});i.push(u)}return()=>{i.forEach(a=>a())}}function cv(e){return e==="experimental-webgl"?"webgl":e}function Wa(e,t,n,r,s){const i=[];try{const o=po(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!ms(this,t,n,r,!0)){const l=cv(c);if("__context"in this||(this.__context=l),s&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){const d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(o=>o())}}function za(e,t,n,r,s,i,o,a){const c=[],u=Object.getOwnPropertyNames(e);for(const l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;const d=po(e,l,function(f){return function(...p){const m=f.apply(this,p);if(vd(m,a,this),"tagName"in this.canvas&&!ms(this.canvas,r,s,i,!0)){const _=Td(p,a,this),S={type:t,property:l,args:_};n(this.canvas,S)}return m}});c.push(d)}catch{const f=fo(e,l,{set(p){n(this.canvas,{type:t,property:l,args:[p],setter:!0})}});c.push(f)}return c}function uv(e,t,n,r,s,i){const o=[];return o.push(...za(t.WebGLRenderingContext.prototype,ln.WebGL,e,n,r,s,i,t)),typeof t.WebGL2RenderingContext<"u"&&o.push(...za(t.WebGL2RenderingContext.prototype,ln.WebGL2,e,n,r,s,i,t)),()=>{o.forEach(a=>a())}}var lv='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function dv(){const e=new Blob([lv]);return URL.createObjectURL(e)}class fv{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(d,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:l}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,l&&rv(l),!t.enableManualSnapshot&&Ua(()=>{c&&n==="all"&&this.initCanvasMutationObserver(r,s,i,o),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,s,i,o,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,n,r,s,i,o,a){const c=Wa(n,r,s,i,!0),u=this.takeSnapshot(!1,t,n,r,s,i,o,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,n,r,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=Wa(t,n,r,s,!1),o=av(this.processMutation.bind(this),t,n,r,s),a=uv(this.processMutation.bind(this),t,n,r,s,this.mirror);this.resetObservers=()=>{i(),o(),a()}}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,s,i,o,a,c,u){const l=new Map,d=new Worker(dv());d.onmessage=g=>{const y=g.data,{id:b}=y;if(l.set(b,!1),!("base64"in y))return;const{base64:E,type:M,width:C,height:v}=y;this.mutationCb({id:b,type:ln["2D"],commands:[{property:"clearRect",args:[0,0,C,v]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:E}],type:M}]},0,0,C,v]}]})};const f=1e3/n;let p=0,m;const _=g=>{if(g)return[g];const y=[];return r.document.querySelectorAll("canvas").forEach(b=>{ms(b,s,i,o)||y.push(b)}),y},S=g=>{if(p&&g-p<f){m=ht(S);return}p=g,_(u).forEach(y=>{const b=this.mirror.getId(y);if(!l.get(b)&&!(!y.width||!y.height)){if(l.set(b,!0),!t&&["webgl","webgl2"].includes(y.__context)){const E=y.getContext(y.__context);Ir([E,"optionalAccess",M=>M.getContextAttributes,"call",M=>M(),"optionalAccess",M=>M.preserveDrawingBuffer])===!1&&E.clear(E.COLOR_BUFFER_BIT)}createImageBitmap(y).then(E=>{d.postMessage({id:b,bitmap:E,width:y.width,height:y.height,dataURLOptions:c,maxCanvasSize:a},[E])}).catch(E=>{Ua(()=>{throw E})()})}}),m=ht(S)};return m=ht(S),m}startPendingCanvasMutationFlusher(){ht(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,ht(t)};ht(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),ht(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(o=>{const{type:a,...c}=o;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:s}),this.pendingCanvasMutations.delete(t)}}const Ga={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},wd="ReplayCanvas",br=1280,pv=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,br):br,n?Math.min(n,br):br]};let s;const i=new Promise(o=>s=o);return{name:wd,setupOnce(){},getOptions(){const{quality:o,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const l=new fv({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:d=>{try{typeof d=="object"&&(d.__rrweb__=!0)}catch{}}});return s(l),l},...Ga[o||"medium"]||Ga.medium}},async snapshot(o){(await i).snapshot(o)}}},kd=pv,hv=ie(wd,kd),Lt=O,Ns="#ffffff",qa="inherit",Ds="rgba(108, 95, 199, 1)",Ya={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Ns,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Ds,submitBorder:Ds,submitOutlineFocus:"#29232f",submitForeground:Ns,submitForegroundHover:Ns,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:qa,inputForeground:qa,inputBorder:"var(--border)",inputOutlineFocus:Ds,formBorderRadius:"20px",formContentBorderRadius:"6px"},Va={light:Ya,dark:{...Ya,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},mv="Report a Bug",gv="Cancel",_v="Send Bug Report",yv="Report a Bug",Sv="your.email@example.org",bv="Email",Ev="What's the bug? What did you expect?",vv="Description",Tv="Your Name",Iv="Name",wv="(required)",kv="Thank you for your report!",Rd="widget",Cd="api";async function Rv({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await Ai(e.getOptions(),n,r,t,e,je());return s===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}async function Cv({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=A(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return Ze(async l=>{l.clearBreadcrumbs(),[Cd,Rd].includes(String(r))&&l.setLevel("info");const d=await Rv({scope:l,client:o,event:u});if(!d)return;o.emit&&o.emit("beforeSendFeedback",d,{includeReplay:!!i});const f=pu(d,c,o.getOptions()._metadata,o.getOptions().tunnel);let p;try{p=await a.send(f)}catch(m){const _=new Error("Unable to send Feedback");try{_.cause=m}catch{}throw _}if(p){if(typeof p.statusCode=="number"&&(p.statusCode<200||p.statusCode>=300))throw new Error("Unable to send Feedback");return p}})}function xd({name:e,email:t,message:n,source:r=Cd,url:s=_c()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Cv({feedback:{name:e,email:t,message:n,url:s,source:r}},i)}const mt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ka(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function xv(e){const t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function Av(e){const t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function Xa(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function Mv(e,t,n){const r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Xa(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Xa(n.dark)}
  }
}`:""}
}`,r}function Ov({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=Lt.document,i=s.createElement("div");i.id=e;const o=i.attachShadow({mode:"open"});return o.appendChild(Mv(s,t,{dark:n,light:r})),o.appendChild(Av(s)),{shadow:o,host:i}}catch{throw h.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Nv(e,t,n){if(!e)return;const r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await xd({...t,source:Rd},n)}catch(s){mt&&h.error(s),r()}}function ve(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const Ut=20,Dv="http://www.w3.org/2000/svg";function Pv(){const e=a=>Lt.document.createElementNS(Dv,a),t=ve(e("svg"),{class:"feedback-icon",width:`${Ut}`,height:`${Ut}`,viewBox:`0 0 ${Ut} ${Ut}`,fill:"none"}),n=ve(e("g"),{clipPath:"url(#clip0_57_80)"}),r=ve(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),i=ve(e("clipPath"),{id:"clip0_57_80"}),o=ve(e("rect"),{width:`${Ut}`,height:`${Ut}`,fill:"white"});return i.appendChild(o),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(o),{get el(){return t}}}function ee(e,t,...n){const s=Lt.document.createElement(e);t&&Object.entries(t).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)Ad(s,i);return s}function Ad(e,t){const n=Lt.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(const r of t)Ad(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function Lv({buttonLabel:e,onClick:t}){function n(s){t&&t(s)}const r=ee("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},Pv().el,e?ee("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function $v({label:e}){return{el:ee("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function Ps(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function Fv({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,isRequiredLabel:o,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:f,defaultName:p,defaultEmail:m,onCancel:_,onSubmit:S}){const{el:g}=$v({label:c});function y(x){if(x.preventDefault(),x.target instanceof HTMLFormElement)try{if(S){const B=new FormData(x.target),Z={name:Ps(B,"name"),email:Ps(B,"email"),message:Ps(B,"message")};S(Z)}}catch{}}const b=ee("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function E(x){b.textContent=x,b.classList.remove("form__error-container--hidden"),b.setAttribute("aria-hidden","false")}function M(){b.textContent="",b.classList.add("form__error-container--hidden"),b.setAttribute("aria-hidden","true")}const C=ee("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:p}),v=ee("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:f,className:"form__input",placeholder:r,value:m}),N=ee("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),V=ee("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:x=>{_&&_(x)}},a),T=ee("form",{className:"form",onSubmit:y},[b,u&&ee("label",{htmlFor:"name",className:"form__label"},[ee("span",{className:"form__label__text"},e,d&&ee("span",{className:"form__label__text--required"},` ${o}`)),C]),!u&&C,l&&ee("label",{htmlFor:"email",className:"form__label"},[ee("span",{className:"form__label__text"},n,f&&ee("span",{className:"form__label__text--required"},` ${o}`)),v]),!l&&v,ee("label",{htmlFor:"message",className:"form__label"},[ee("span",{className:"form__label__text"},s,ee("span",{className:"form__label__text--required"},` ${o}`)),N]),ee("div",{className:"btn-group"},[g,V])]);return{get el(){return T},showError:E,hideError:M}}const Bv="http://www.w3.org/2000/svg";function Hv({colorScheme:e}){const t=o=>Lt.document.createElementNS(Bv,o),n=ve(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=ve(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),i=t("style");return i.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(i),n.append(s),{get el(){return n}}}function Uv({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let p=null;function m(){_(),u&&u()}function _(){p&&(p.open=!1)}function S(){p&&(p.open=!0)}function g(){return p&&p.open===!0||!1}const{el:y,showError:b,hideError:E}=Fv({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...f});return p=ee("dialog",{className:"dialog",open:!0,onClick:m},ee("div",{className:"dialog__content",onClick:M=>{M.stopPropagation()}},ee("h2",{className:"dialog__header"},e,t&&ee("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},Hv({colorScheme:o}).el)),y)),{get el(){return p},showError:b,hideError:E,open:S,close:_,checkIsOpen:g}}const Er=16,Ja=17,jv="http://www.w3.org/2000/svg";function Wv(){const e=c=>Lt.document.createElementNS(jv,c),t=ve(e("svg"),{class:"success-icon",width:`${Er}`,height:`${Ja}`,viewBox:`0 0 ${Er} ${Ja}`,fill:"none"}),n=ve(e("g"),{clipPath:"url(#clip0_57_156)"}),r=ve(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=ve(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const i=e("defs"),o=ve(e("clipPath"),{id:"clip0_57_156"}),a=ve(e("rect"),{width:`${Er}`,height:`${Er}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),{get el(){return t}}}function zv({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=ee("div",{className:"success-message",onClick:n},Wv().el,e);return{el:r,remove:n}}function Za({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,i,o=!1;function a(){if(e)try{const g=zv({message:n.successMessageText,onRemove:()=>{y&&clearTimeout(y),l()}});if(!g.el)throw new Error("Unable to show success message");e.appendChild(g.el);const y=setTimeout(()=>{g&&g.remove()},5e3)}catch(g){h.error(g)}}async function c(g){if(!i)return;const y=[];if(n.isNameRequired&&!g.name&&y.push(n.nameLabel),n.isEmailRequired&&!g.email&&y.push(n.emailLabel),g.message||y.push(n.messageLabel),y.length>0){i.showError(`Please enter in the following required fields: ${y.join(", ")}`);return}if(!await Nv(i,g)){n.onSubmitError&&n.onSubmitError();return}_(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){const g=A(),y=g&&g.getIntegrationByName&&g.getIntegrationByName("Replay");y&&y.flush().catch(b=>{mt&&h.error(b)})}function l(){s&&s.show()}function d(){s&&s.hide()}function f(){s&&s.el&&s.el.remove()}function p(){try{if(i){i.open(),o=!0,n.onFormOpen&&n.onFormOpen(),u();return}const g=n.useSentryUser,y=ae(),b=y&&y.getUser();if(i=Uv({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:g&&b&&b[g.name]||"",defaultEmail:g&&b&&b[g.email]||"",onClosed:()=>{l(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{m(),l()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(g){h.error(g)}}function m(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function _(){if(i){m();const g=i.el;g&&g.remove(),i=void 0}}function S(){o||p(),d()}return r?r.addEventListener("click",S):t&&(s=Lv({buttonLabel:n.buttonLabel,onClick:S}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:l,hideActor:d,removeActor:f,openDialog:p,closeDialog:m,removeDialog:_}}const vr=Lt.document,Gv=e=>new sr(e);class sr{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:s=!1,showBranding:i=!0,showEmail:o=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=mv,cancelButtonLabel:p=gv,submitButtonLabel:m=_v,formTitle:_=yv,emailPlaceholder:S=Sv,emailLabel:g=bv,messagePlaceholder:y=Ev,messageLabel:b=vv,namePlaceholder:E=Tv,nameLabel:M=Iv,isRequiredLabel:C=wv,successMessageText:v=kv,onFormClose:N,onFormOpen:V,onSubmitError:T,onSubmitSuccess:x}={}){this.name=sr.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:i,id:n,isEmailRequired:r,isNameRequired:s,showEmail:o,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...Va.dark,...u},themeLight:{...Va.light,...l},buttonLabel:f,cancelButtonLabel:p,submitButtonLabel:m,formTitle:_,emailLabel:g,emailPlaceholder:S,messageLabel:b,messagePlaceholder:y,nameLabel:M,namePlaceholder:E,isRequiredLabel:C,successMessageText:v,onFormClose:N,onFormOpen:V,onSubmitError:T,onSubmitSuccess:x}}setupOnce(){if(Gs())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){mt&&h.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{const r=Ka(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof t=="string"?vr.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!i)return mt&&h.error("[Feedback] Unable to attach to target element"),null;const o=Za({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return mt&&h.error(r),null}}createWidget(t){try{return this._createWidget(Ka(this.options,t||{}))}catch(n){return mt&&h.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){mt&&h.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=vr.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{const r=Za({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(xv(vr)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=Ov({id:i,colorScheme:o,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&vr.body.appendChild(this._host),s}}sr.__initStatic();const Md="CaptureConsole",qv=(e={})=>{const t=e.levels||xr;return{name:Md,setupOnce(){},setup(n){"console"in O&&Rc(({args:r,level:s})=>{A()!==n||!t.includes(s)||Yv(r,s)})}}},Od=qv;ie(Md,Od);function Yv(e,t){const n={level:$c(t),extra:{arguments:e}};Ze(r=>{if(r.addEventProcessor(o=>(o.logger="console",Rt(o,{handled:!1,type:"console"}),o)),t==="assert"&&e[0]===!1){const o=`Assertion failed: ${Cr(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),Nr(o,n);return}const s=e.find(o=>o instanceof Error);if(t==="error"&&s){gn(s,n);return}const i=Cr(e," ");Nr(i,n)})}const Nd="Debug",Vv=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Nd,setupOnce(){},setup(n){n.on&&n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;lt(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}},Dd=Vv;ie(Nd,Dd);const dn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pd="Dedupe",Kv=()=>{let e;return{name:Pd,setupOnce(){},processEvent(t){if(t.type)return t;try{if(Xv(t,e))return dn&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Ld=Kv;ie(Pd,Ld);function Xv(e,t){return t?!!(Jv(e,t)||Zv(e,t)):!1}function Jv(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Fd(e,t)||!$d(e,t))}function Zv(e,t){const n=Qa(t),r=Qa(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Fd(e,t)||!$d(e,t))}function $d(e,t){let n=ec(e),r=ec(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Fd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Qa(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ec(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Bd="ExtraErrorData",Qv=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:Bd,setupOnce(){},processEvent(r,s){return eT(r,s,t,n)}}},Hd=Qv;ie(Bd,Hd);function eT(e,t={},n,r){if(!t.originalException||!Et(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,i=tT(t.originalException,r);if(i){const o={...e.contexts},a=xe(i,n);return kt(a)&&(Ve(a,"__sentry_skip_normalization__",!0),o[s]=a),{...e,contexts:o}}return e}function tT(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const s of Object.keys(e)){if(n.indexOf(s)!==-1)continue;const i=e[s];r[s]=Et(i)?i.toString():i}if(t&&e.cause!==void 0&&(r.cause=Et(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const s=e.toJSON();for(const i of Object.keys(s)){const o=s[i];r[i]=Et(o)?o.toString():o}}return r}catch(n){dn&&h.error("Unable to extract extra data from the Error object:",n)}return null}const nT=O,Ud="ReportingObserver",tc=new WeakMap,rT=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(tc.has(A()))for(const s of r)Ze(i=>{i.setExtra("url",s.url);const o=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(i.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Nr(`${o}: ${a}`)})}return{name:Ud,setupOnce(){if(!Zf())return;new nT.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){tc.set(r,!0)}}},jd=rT;ie(Ud,jd);const Wd="RewriteFrames",sT=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(o=>{if(!o.filename)return o;const a=/^[a-zA-Z]:\\/.test(o.filename)||o.filename.includes("\\")&&!o.filename.includes("/"),c=/^\//.test(o.filename);if(a||c){const u=a?o.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):o.filename,l=t?bp(t,u):Ep(u);o.filename=`${n}${l}`}return o});function s(o){try{return{...o,exception:{...o.exception,values:o.exception.values.map(a=>({...a,...a.stacktrace&&{stacktrace:i(a.stacktrace)}}))}}}catch{return o}}function i(o){return{...o,frames:o&&o.frames&&o.frames.map(a=>r(a))}}return{name:Wd,setupOnce(){},processEvent(o){let a=o;return o.exception&&Array.isArray(o.exception.values)&&(a=s(a)),a}}},zd=sT;ie(Wd,zd);const Gd="SessionTiming",iT=()=>{const e=Date.now();return{name:Gd,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},qd=iT;ie(Gd,qd);const Yd="HttpClient",oT=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Yd,setupOnce(){},setup(n){hT(n,t),mT(n,t)}}},Vd=oT;ie(Yd,Vd);function aT(e,t,n,r){if(Xd(e,n.status,n.url)){const s=gT(t,r);let i,o,a,c;Zd()&&([{headers:i,cookies:a},{headers:o,cookies:c}]=[{cookieHeader:"Cookie",obj:s},{cookieHeader:"Set-Cookie",obj:n}].map(({cookieHeader:l,obj:d})=>{const f=lT(d.headers);let p;try{const m=f[l]||f[l.toLowerCase()]||void 0;m&&(p=Kd(m))}catch{dn&&h.log(`Could not extract cookies from header ${l}`)}return{headers:f,cookies:p}}));const u=Jd({url:s.url,method:s.method,status:n.status,requestHeaders:i,responseHeaders:o,requestCookies:a,responseCookies:c});Vn(u)}}function cT(e,t,n,r){if(Xd(e,t.status,t.responseURL)){let s,i,o;if(Zd()){try{const c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(i=Kd(c))}catch{dn&&h.log("Could not extract cookies from response headers")}try{o=dT(t)}catch{dn&&h.log("Could not extract headers from response")}s=r}const a=Jd({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:o,responseCookies:i});Vn(a)}}function uT(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Kd(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return t[r]=s,t},{})}function lT(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function dT(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s]=i,n},{}):{}}function fT(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function pT(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function hT(e,t){Oc()&&Jr(n=>{if(A()!==e)return;const{response:r,args:s}=n,[i,o]=s;r&&aT(t,i,r,o)})}function mT(e,t){"XMLHttpRequest"in O&&Zr(n=>{if(A()!==e)return;const r=n.xhr,s=r[qe];if(!s)return;const{method:i,request_headers:o}=s;try{cT(t,r,i,o)}catch(a){dn&&h.warn("Error while extracting response event form XHR response",a)}})}function Xd(e,t,n){return pT(e.failedRequestStatusCodes,t)&&fT(e.failedRequestTargets,n)&&!wu(n,A())}function Jd(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:uT(e.responseHeaders)}}};return Rt(n,{type:"http.client",handled:!1}),n}function gT(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Zd(){const e=A();return e?!!e.getOptions().sendDefaultPii:!1}const Ls=O,_T=7,Qd="ContextLines",yT=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:_T;return{name:Qd,setupOnce(){},processEvent(n){return ST(n,t)}}},ef=yT;ie(Qd,ef);function ST(e,t){const n=Ls.document,r=Ls.location&&Tp(Ls.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const o=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>bT(u,o,r,t)))}),e}function bT(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||qf(t,e,r),e}function Wn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function ET(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Wn(n);return s=>r.then(i=>s(i.transaction(t,"readwrite").objectStore(t)))}function tf(e){return Wn(e.getAllKeys())}function vT(e,t,n){return e(r=>tf(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Wn(r.transaction)}))}function TT(e){return e(t=>tf(t).then(n=>{if(n.length!==0)return Wn(t.get(n[0])).then(r=>(t.delete(n[0]),Wn(t.transaction).then(()=>r)))}))}function IT(e){let t;function n(){return t==null&&(t=ET(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{const s=await Wc(r,e.textEncoder);await vT(n(),s,e.maxQueueSize||30)}catch{}},pop:async()=>{try{const r=await TT(n());if(r)return Dp(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function wT(e){return t=>e({...t,createStore:IT})}function kT(e){return wT(Tm(e))}const nc=1e6,Rr=String(0),RT="main";let nf="",rf="",sf="",mi=I.navigator&&I.navigator.userAgent||"",of="";const CT=I.navigator&&I.navigator.language||I.navigator&&I.navigator.languages&&I.navigator.languages[0]||"";function xT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const rc=I.navigator&&I.navigator.userAgentData;xT(rc)&&rc.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(nf=e.platform||"",sf=e.architecture||"",of=e.model||"",rf=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];mi=`${t.brand} ${t.version}`}}).catch(e=>{});function AT(e){return!("thread_metadata"in e)}function MT(e){return AT(e)?DT(e):e}function OT(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&F&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function NT(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=OT(r),i=MT(n),o=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Yn,runtime:{name:"javascript",version:I.navigator.userAgent},os:{name:nf,version:rf,build_number:mi},device:{locale:CT,model:of,manufacturer:mi,architecture:sf,is_emulator:!1},debug_meta:{images:$T(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||q(),trace_id:s,active_thread_id:Rr,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}function af(e){return e.op==="pageload"}function DT(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Rr]:{name:RT}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:fe||0,o=i-(fe||i);for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+o-s)*nc).toFixed(0),stack_id:t,thread_id:Rr};continue}let u=e.stacks[c.stackId];const l=[];for(;u;){l.push(u.frameId);const f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}const d={elapsed_since_start_ns:((c.timestamp+o-s)*nc).toFixed(0),stack_id:n,thread_id:Rr};r.stacks[n]=l,r.samples[a]=d,n++}return r}function PT(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function LT(e){const t=[];return nn(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[s])}}),t}const sc=new WeakMap;function $T(e){const t=O._sentryDebugIds;if(!t)return[];const n=A(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=sc.get(s);o?i=o:(i=new Map,sc.set(s,i));const a=Object.keys(t).reduce((u,l)=>{let d;const f=i.get(l);f?d=f:(d=s(l),i.set(l,d));for(let p=d.length-1;p>=0;p--){const m=d[p],_=m&&m.filename;if(m&&_){u[_]=t[l];break}}return u},{}),c=[];for(const u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function FT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(F&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(F&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function BT(e){return e.samples.length<2?(F&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(F&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}let cf=!1;const uf=3e4;function HT(e){return typeof e=="function"}function UT(){const e=I.Profiler;if(!HT(e)){F&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(uf/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{F&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),cf=!0}}function gi(e){if(cf)return F&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return F&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=A(),n=t&&t.getOptions();if(!n)return F&&h.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return FT(r)?r?(r===!0?!0:Math.random()<r)?!0:(F&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(F&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(F&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function jT(e,t,n,r){return BT(n)?NT(e,t,n,r):null}const bt=new Map;function WT(){return bt.size}function zT(e){const t=bt.get(e);return t&&bt.delete(e),t}function GT(e,t){if(bt.set(e,t),bt.size>30){const n=bt.keys().next().value;bt.delete(n)}}function qT(e){return e?gi(e)?_i(e):e:(F&&h.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function _i(e){let t;af(e)&&(t=He()*1e3);const n=UT();if(!n)return e;F&&h.log(`[Profiling] started profiling transaction: ${U(e).description}`);const r=q();async function s(){return!e||!n?null:n.stop().then(c=>(i&&(I.clearTimeout(i),i=void 0),F&&h.log(`[Profiling] stopped profiling of transaction: ${U(e).description}`),c?(GT(r,c),null):(F&&h.log(`[Profiling] profiler returned null profile for: ${U(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(F&&h.log("[Profiling] error while stopping profiler:",c),null))}let i=I.setTimeout(()=>{F&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",U(e).description),s()},uf);const o=e.end.bind(e);function a(){return e?(s().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),o()},()=>{o()}),e):o()}return e.end=a,e}const lf="BrowserProfiling",YT=()=>({name:lf,setupOnce(){},setup(e){const n=ae().getTransaction();if(n&&af(n)&&gi(n)&&_i(n),typeof e.on!="function"){h.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{gi(r)&&_i(r)}),e.on("beforeEnvelope",r=>{if(!WT())return;const s=LT(r);if(!s.length)return;const i=[];for(const o of s){const a=o&&o.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){F&&h.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){F&&h.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;const l=zT(c);if(!l){F&&h.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}const d=jT(c,u,l,o);d&&i.push(d)}PT(r,i)})}}),df=YT,VT=ie(lf,df);let ff={};I.Sentry&&I.Sentry.Integrations&&(ff=I.Sentry.Integrations);const KT={...ff,...fg,...xy};function XT(e){const t={...e};ku(t,"react"),Ty(t)}var pf={exports:{}},G={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function b(k){return typeof k=="string"||typeof k=="function"||k===r||k===u||k===i||k===s||k===d||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===p||k.$$typeof===o||k.$$typeof===a||k.$$typeof===l||k.$$typeof===S||k.$$typeof===g||k.$$typeof===y||k.$$typeof===_)}function E(k){if(typeof k=="object"&&k!==null){var ke=k.$$typeof;switch(ke){case t:var Ie=k.type;switch(Ie){case c:case u:case r:case i:case s:case d:return Ie;default:var Ft=Ie&&Ie.$$typeof;switch(Ft){case a:case l:case m:case p:case o:return Ft;default:return ke}}case n:return ke}}}var M=c,C=u,v=a,N=o,V=t,T=l,x=r,B=m,Z=p,oe=n,he=i,z=s,ye=d,Q=!1;function pe(k){return Q||(Q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Se(k)||E(k)===c}function Se(k){return E(k)===u}function Tn(k){return E(k)===a}function Qe(k){return E(k)===o}function Oe(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function et(k){return E(k)===l}function ft(k){return E(k)===r}function In(k){return E(k)===m}function wn(k){return E(k)===p}function ir(k){return E(k)===n}function $t(k){return E(k)===i}function or(k){return E(k)===s}function Ss(k){return E(k)===d}G.AsyncMode=M,G.ConcurrentMode=C,G.ContextConsumer=v,G.ContextProvider=N,G.Element=V,G.ForwardRef=T,G.Fragment=x,G.Lazy=B,G.Memo=Z,G.Portal=oe,G.Profiler=he,G.StrictMode=z,G.Suspense=ye,G.isAsyncMode=pe,G.isConcurrentMode=Se,G.isContextConsumer=Tn,G.isContextProvider=Qe,G.isElement=Oe,G.isForwardRef=et,G.isFragment=ft,G.isLazy=In,G.isMemo=wn,G.isPortal=ir,G.isProfiler=$t,G.isStrictMode=or,G.isSuspense=Ss,G.isValidElementType=b,G.typeOf=E})();pf.exports=G;var JT=pf.exports,ho=JT,ZT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hf={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mo={};mo[ho.ForwardRef]=eI;mo[ho.Memo]=hf;function ic(e){return ho.isMemo(e)?hf:mo[e.$$typeof]||ZT}var tI=Object.defineProperty,nI=Object.getOwnPropertyNames,oc=Object.getOwnPropertySymbols,rI=Object.getOwnPropertyDescriptor,sI=Object.getPrototypeOf,ac=Object.prototype;function mf(e,t,n){if(typeof t!="string"){if(ac){var r=sI(t);r&&r!==ac&&mf(e,r,n)}var s=nI(t);oc&&(s=s.concat(oc(t)));for(var i=ic(e),o=ic(t),a=0;a<s.length;++a){var c=s[a];if(!QT[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var u=rI(t,c);try{tI(e,c,u)}catch{}}}}return e}var iI=mf;const gs=kf(iI),gf="ui.react.render",oI="ui.react.update",_f="ui.react.mount",cc="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",aI="unknown";class go extends Te.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=ot({name:`<${n}>`,onlyIfParent:!0,op:_f,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=He();this._updateSpan=Ks(this._mountSpan,()=>ot({name:`<${this.props.name}>`,onlyIfParent:!0,op:oI,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=He(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=U(this._mountSpan).timestamp;Ks(this._mountSpan,()=>{const i=ot({onlyIfParent:!0,name:`<${n}>`,op:gf,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":n}});i&&i.end(t)})}}render(){return this.props.children}}go.__initStatic();function cI(e,t){const n=t&&t.name||e.displayName||e.name||aI,r=s=>Te.createElement(go,{...t,name:n,updateProps:s,__self:this,__source:{fileName:cc,lineNumber:159}},Te.createElement(e,{...s,__self:this,__source:{fileName:cc,lineNumber:160}}));return r.displayName=`profiler(${n})`,gs(r,e),r}function uI(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=Te.useState(()=>{if(!(t&&t.disabled))return ot({name:`<${e}>`,onlyIfParent:!0,op:_f,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":e}})});Te.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=U(n).timestamp,s=He(),i=ot({name:`<${e}>`,onlyIfParent:!0,op:gf,origin:"auto.ui.react.profiler",startTimestamp:r,attributes:{"ui.component_name":e}});i&&i.end(s)}}),[])}const _o=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,uc="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function lI(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const dI="unknown",lc={componentStack:null,error:null,eventId:null};function fI(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}class _s extends Te.Component{constructor(t){super(t),_s.prototype.__init.call(this),this.state=lc,this._openFallbackReportDialog=!0;const n=A();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&ii({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:s,showDialog:i,dialogOptions:o}=this.props;Ze(a=>{if(lI(Te.version)&&Et(t)){const u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=n,fI(t,u)}r&&r(a,t,n);const c=gn(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});s&&s(t,n,c),i&&(this._lastEventId=c,this._openFallbackReportDialog&&ii({...o,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(lc)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,Te.isValidElement(s)?s:(t&&_o&&h.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function pI(e,t){const n=e.displayName||e.name||dI,r=s=>Te.createElement(_s,{...t,__self:this,__source:{fileName:uc,lineNumber:240}},Te.createElement(e,{...s,__self:this,__source:{fileName:uc,lineNumber:241}}));return r.displayName=`errorBoundary(${n})`,gs(r,e),r}const hI="redux.action",mI="info",gI={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function _I(e){const t={...gI,...e};return n=>(r,s)=>(t.attachReduxState&&tu().addEventProcessor((o,a)=>{try{o.type===void 0&&o.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(o.contexts.state.state.value)}])}catch{}return o}),n((o,a)=>{const c=r(o,a),u=ae(),l=t.actionTransformer(a);typeof l<"u"&&l!==null&&u.addBreadcrumb({category:hI,data:l,type:mI});const d=t.stateTransformer(c);if(typeof d<"u"&&d!==null){const p=A(),m=p&&p.getOptions(),_=m&&m.normalizeDepth||3,S={state:{type:"redux",value:d}};Ve(S,"__sentry_override_normalization_depth__",3+_),u.setContext("state",S)}else u.setContext("state",null);const{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},s))}function yI(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{bn(a,d)},u=d=>{En(a,d)},l=yf(n,r,s);l(c,i,!1),l(u,!1,o)}}}function yf(e,t,n){return(r,s=!0,i=!0)=>{let o,a;s&&I&&I.location&&dc(t,I.location,n,(c,u="url")=>{a=c,o=r({name:a,attributes:{[we]:"pageload",[be]:"auto.pageload.react.reactrouter_v3",[se]:u}})}),i&&e.listen&&e.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&(o&&o.end(),dc(t,c,n,(u,l="url")=>{a=u;const d={[we]:"navigation",[be]:"auto.navigation.react.reactrouter_v3",[se]:l};o=r({name:a,attributes:d})}))})}}function dc(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(i,o,a)=>{if(i||!a)return r(s);const c=SI(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function SI(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--){const s=t[r];if(s.path&&s.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}const bI="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";let Xt;function EI(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{bn(a,d)},u=d=>{En(a,d)},l=Sf(n,r,s);l(c,i,!1),l(u,!1,o)}}}function vI(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s}=e;return{...t,afterAllSetup(i){t.afterAllSetup(i);const o=u=>{bn(i,u)},a=u=>{En(i,u)},c=bf(n,r,s);c(o,e.instrumentPageLoad,!1),c(a,!1,e.instrumentNavigation)}}}function Sf(e,t,n){return Ef(e,"reactrouter_v4",t,n)}function bf(e,t,n){return Ef(e,"reactrouter_v5",t,n)}function Ef(e,t,n=[],r){function s(){if(e&&e.location)return e.location.pathname;if(I&&I.location)return I.location.pathname}function i(o){if(n.length===0||!r)return[o,"url"];const a=vf(n,o,r);for(let c=0;c<a.length;c++)if(a[c].match.isExact)return[a[c].match.path,"route"];return[o,"url"]}return(o,a=!0,c=!0)=>{const u=s();if(a&&u){const[l,d]=i(u);Xt=o({name:l,attributes:{[we]:"pageload",[be]:`auto.pageload.react.${t}`,[se]:d}})}c&&e.listen&&e.listen((l,d)=>{if(d&&(d==="PUSH"||d==="POP")){Xt&&Xt.end();const[f,p]=i(l.pathname);Xt=o({name:f,attributes:{[we]:"navigation",[be]:`auto.navigation.react.${t}`,[se]:p}})}})}}function vf(e,t,n,r=[]){return e.some(s=>{const i=s.path?n(t,s):r.length?r[r.length-1].match:TI(t);return i&&(r.push({route:s,match:i}),s.routes&&vf(s.routes,t,n,r)),!!i}),r}function TI(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function II(e){const t=e.displayName||e.name,n=r=>{if(r&&r.computedMatch&&r.computedMatch.isExact){const s=r.computedMatch.path,i=wI();i&&(i.updateName(s),i.setAttribute(se,"route"))}return Te.createElement(e,{...r,__self:this,__source:{fileName:bI,lineNumber:279}})};return n.displayName=`sentryRoute(${t})`,gs(n,e),n}function wI(){if(Xt)return Xt;const e=Pt(),t=e?rn(e):void 0;if(!t)return;const n=U(t).op;return n==="navigation"||n==="pageload"?t:void 0}const Tf="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx";let en,Tt,It,wt,$n,At,fn,ys,gt=!1;function kI(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:s,createRoutesFromChildren:i,matchRoutes:o,stripBasename:a,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,afterAllSetup(l){t.afterAllSetup(l);const d=p=>{En(l,p)},f=I&&I.location&&I.location.pathname;c&&f&&bn(l,{name:f,attributes:{[se]:"url",[we]:"pageload",[be]:"auto.pageload.react.reactrouter_v6"}}),Tt=n,It=r,wt=s,At=o,$n=i,gt=a||!1,fn=d,ys=u}}}function RI(e,t,n,r,s,i){return(o,a=!0,c=!0)=>{const u=I&&I.location&&I.location.pathname;a&&u&&(en=o({name:u,attributes:{[se]:"url",[we]:"pageload",[be]:"auto.pageload.react.reactrouter_v6"}})),Tt=e,It=t,wt=n,At=s,$n=r,gt=i||!1,fn=o,ys=c}}function $s(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function If(e,t,n,r=""){if(!e||e.length===0)return[gt?$s(t.pathname,r):t.pathname,"url"];let s="";if(n)for(let i=0;i<n.length;i++){const o=n[i],a=o.route;if(a){if(a.index)return[gt?$s(o.pathname,r):o.pathname,"route"];const c=a.path;if(c){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s+=u,r+o.pathname===t.pathname)return Lo(s)!==Lo(o.pathname)&&s.slice(-2)!=="/*"?[(gt?"":r)+u,"route"]:[(gt?"":r)+s,"route"]}}}return[gt?$s(t.pathname,r):t.pathname,"url"]}function yo(e,t,n,r,s){const i=Array.isArray(r)?r:At(n,t,s);if(e&&i){const[o,a]=If(n,t,i,s);e.updateName(o),e.setAttribute(se,a)}}function So(e,t,n,r,s){const i=Array.isArray(r)?r:At(t,e,s);if(ys&&(n==="PUSH"||n==="POP")&&i){en&&en.end();const[o,a]=If(t,e,i,s);en=fn({name:o,attributes:{[se]:a,[we]:"navigation",[be]:"auto.navigation.react.reactrouter_v6"}})}}function CI(e){if(!Tt||!It||!wt||!$n||!At||!fn)return _o&&h.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Tt}. useLocation: ${It}. useNavigationType: ${wt}.
      createRoutesFromChildren: ${$n}. matchRoutes: ${At}. customStartTransaction: ${fn}.`),e;let t=!0;const n=r=>{const s=It(),i=wt();return Tt(()=>{const o=$n(r.children);t?(yo(bo(),s,o),t=!1):So(s,o,i)},[s,i]),Te.createElement(e,{...r,__self:this,__source:{fileName:Tf,lineNumber:329}})};return gs(n,e),n}function xI(e){if(!Tt||!It||!wt||!At||!fn)return _o&&h.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0;const n=r=>{const{routes:s,locationArg:i}=r,o=e(s,i),a=It(),c=wt(),u=typeof i=="string"||i&&i.pathname?i:a;return Tt(()=>{const l=typeof u=="string"?{pathname:u}:u;t?(yo(bo(),l,s),t=!1):So(l,s,c)},[c,u]),o};return(r,s)=>Te.createElement(n,{routes:r,locationArg:s,__self:this,__source:{fileName:Tf,lineNumber:386}})}function AI(e){return function(t,n){const r=e(t,n),s=n&&n.basename,i=bo();return r.state.historyAction==="POP"&&i&&yo(i,r.state.location,t,void 0,s),r.subscribe(o=>{const a=o.location;ys&&(o.historyAction==="PUSH"||o.historyAction==="POP")&&So(a,t,o.historyAction,void 0,s)}),r}}function bo(){if(en)return en;const e=Pt(),t=e?rn(e):void 0;if(!t)return;const n=U(t).op;return n==="navigation"||n==="pageload"?t:void 0}const OI=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:hl,BrowserClient:sl,BrowserProfilingIntegration:VT,BrowserTracing:u_,Dedupe:_l,ErrorBoundary:_s,Feedback:sr,FunctionToString:Nu,GlobalHandlers:El,HttpContext:wl,Hub:Oi,InboundFilters:Mu,Integrations:KT,LinkedErrors:Rl,ModuleMetadata:Fm,Profiler:go,Replay:rr,ReplayCanvas:hv,SDK_VERSION:Dr,SEMANTIC_ATTRIBUTE_SENTRY_OP:we,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:be,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:yt,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:se,Scope:Be,TryCatch:xl,WINDOW:I,addBreadcrumb:Xe,addEventProcessor:Su,addGlobalEventProcessor:Vc,addIntegration:Kh,addTracingExtensions:as,breadcrumbsIntegration:qi,browserApiErrorsIntegration:Xi,browserProfilingIntegration:df,browserTracingIntegration:Qn,captureConsoleIntegration:Od,captureEvent:Vn,captureException:gn,captureMessage:Nr,captureSession:Js,captureUserFeedback:Cy,chromeStackLineParser:al,close:dh,configureScope:nh,contextLinesIntegration:ef,continueTrace:Ah,createReduxEnhancer:_I,createTransport:Li,createUserFeedbackEnvelope:rl,debugIntegration:Dd,dedupeIntegration:Ld,defaultIntegrations:Al,defaultRequestInstrumentationOptions:Fn,defaultStackLineParsers:ll,defaultStackParser:dl,endSession:Mi,eventFromException:tl,eventFromMessage:nl,exceptionFromError:Wi,extraErrorDataIntegration:Hd,extractTraceparentData:Th,feedbackIntegration:Gv,flush:lh,forceLoad:Iy,functionToStringIntegration:Fi,geckoStackLineParser:cl,getActiveSpan:Pt,getActiveTransaction:Ue,getClient:A,getCurrentHub:Y,getCurrentScope:ae,getDefaultIntegrations:Ml,getHubFromCarrier:Pr,getReplay:ev,getSpanStatusFromHttpCode:Ni,globalHandlersIntegration:Yi,httpClientIntegration:Vd,httpContextIntegration:Vi,inboundFiltersIntegration:$i,init:XT,instrumentOutgoingRequests:ji,isInitialized:ph,lastEventId:fh,linkedErrorsIntegration:Ki,makeBrowserOfflineTransport:kT,makeFetchTransport:il,makeMain:Zs,makeMultiplexedTransport:km,makeXHRTransport:ol,metrics:dg,moduleMetadataIntegration:xu,onLoad:wy,onProfilingStartRouteTransaction:qT,opera10StackLineParser:q_,opera11StackLineParser:K_,parameterize:Om,reactRouterV3BrowserTracingIntegration:yI,reactRouterV3Instrumentation:yf,reactRouterV4BrowserTracingIntegration:EI,reactRouterV4Instrumentation:Sf,reactRouterV5BrowserTracingIntegration:vI,reactRouterV5Instrumentation:bf,reactRouterV6BrowserTracingIntegration:kI,reactRouterV6Instrumentation:RI,replayCanvasIntegration:kd,replayIntegration:ZE,reportingObserverIntegration:jd,rewriteFramesIntegration:zd,sendFeedback:xd,sessionTimingIntegration:qd,setContext:Zc,setCurrentClient:Tu,setExtra:sh,setExtras:rh,setHttpStatus:rs,setMeasurement:fu,setTag:oh,setTags:ih,setUser:ah,showReportDialog:ii,spanStatusfromHttpCode:wh,startBrowserTracingNavigationSpan:En,startBrowserTracingPageLoadSpan:bn,startInactiveSpan:ot,startSession:Xs,startSpan:Ch,startSpanManual:xh,startTransaction:uh,trace:Rh,useProfiler:uI,winjsStackLineParser:ul,withActiveSpan:Ks,withErrorBoundary:pI,withIsolationScope:ch,withProfiler:cI,withScope:Ze,withSentryReactRouterV6Routing:CI,withSentryRouting:II,wrap:ky,wrapCreateBrowserRouter:AI,wrapUseRoutes:xI},Symbol.toStringTag,{value:"Module"}));(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&S_();function NI(){}export{OI as Sentry,NI as initSentry};
//# sourceMappingURL=sentry-BnuxZEz_.js.map
